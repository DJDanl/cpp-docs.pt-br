---
title: Classe CMFCToolBarMenuButton
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CompareWith
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CopyFrom
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateFromMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::EnableQuickCustomize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetCommands
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetImageRect
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPaletteRows
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HasButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HaveHotBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsClickedOnMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsDroppedDown
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsEmptyMenuAllowed
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsExclusive
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsQuickMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsTearOffMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnAfterCreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnBeforeDrag
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCalculateSize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCancelMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnChangeParentWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClick
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClickMenuItem
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnContextHelp
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDraw
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDrawOnCustomizeList
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OpenPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::ResetImageToDefault
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SaveBarState
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::Serialize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetACCData
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuOnly
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMessageWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetRadio
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetTearOff
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::DrawDocumentIcon
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw
helpviewer_keywords:
- CMFCToolBarMenuButton [MFC], CMFCToolBarMenuButton
- CMFCToolBarMenuButton [MFC], CompareWith
- CMFCToolBarMenuButton [MFC], CopyFrom
- CMFCToolBarMenuButton [MFC], CreateFromMenu
- CMFCToolBarMenuButton [MFC], CreateMenu
- CMFCToolBarMenuButton [MFC], CreatePopupMenu
- CMFCToolBarMenuButton [MFC], EnableQuickCustomize
- CMFCToolBarMenuButton [MFC], GetCommands
- CMFCToolBarMenuButton [MFC], GetImageRect
- CMFCToolBarMenuButton [MFC], GetPaletteRows
- CMFCToolBarMenuButton [MFC], GetPopupMenu
- CMFCToolBarMenuButton [MFC], HasButton
- CMFCToolBarMenuButton [MFC], HaveHotBorder
- CMFCToolBarMenuButton [MFC], IsBorder
- CMFCToolBarMenuButton [MFC], IsClickedOnMenu
- CMFCToolBarMenuButton [MFC], IsDroppedDown
- CMFCToolBarMenuButton [MFC], IsEmptyMenuAllowed
- CMFCToolBarMenuButton [MFC], IsExclusive
- CMFCToolBarMenuButton [MFC], IsMenuPaletteMode
- CMFCToolBarMenuButton [MFC], IsQuickMode
- CMFCToolBarMenuButton [MFC], IsTearOffMenu
- CMFCToolBarMenuButton [MFC], OnAfterCreatePopupMenu
- CMFCToolBarMenuButton [MFC], OnBeforeDrag
- CMFCToolBarMenuButton [MFC], OnCalculateSize
- CMFCToolBarMenuButton [MFC], OnCancelMode
- CMFCToolBarMenuButton [MFC], OnChangeParentWnd
- CMFCToolBarMenuButton [MFC], OnClick
- CMFCToolBarMenuButton [MFC], OnClickMenuItem
- CMFCToolBarMenuButton [MFC], OnContextHelp
- CMFCToolBarMenuButton [MFC], OnDraw
- CMFCToolBarMenuButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarMenuButton [MFC], OpenPopupMenu
- CMFCToolBarMenuButton [MFC], ResetImageToDefault
- CMFCToolBarMenuButton [MFC], SaveBarState
- CMFCToolBarMenuButton [MFC], Serialize
- CMFCToolBarMenuButton [MFC], SetACCData
- CMFCToolBarMenuButton [MFC], SetMenuOnly
- CMFCToolBarMenuButton [MFC], SetMenuPaletteMode
- CMFCToolBarMenuButton [MFC], SetMessageWnd
- CMFCToolBarMenuButton [MFC], SetRadio
- CMFCToolBarMenuButton [MFC], SetTearOff
- CMFCToolBarMenuButton [MFC], DrawDocumentIcon
- CMFCToolBarMenuButton [MFC], m_bAlwaysCallOwnerDraw
ms.assetid: cfa50176-7e4b-4527-9904-86a1b48fc1bc
ms.openlocfilehash: 0dffd273b51dd1c71328332f9f7e29e1ac5cd213
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/22/2020
ms.locfileid: "81745149"
---
# <a name="cmfctoolbarmenubutton-class"></a>Classe CMFCToolBarMenuButton

Um botão de barra de ferramentas que contém um menu pop-up.
Para obter mais detalhes, consulte o código-fonte localizado na pasta **VC\\atlmfc\\src\\mfc** da instalação do Visual Studio.

## <a name="syntax"></a>Sintaxe

```
class CMFCToolBarMenuButton : public CMFCToolBarButton
```

## <a name="members"></a>Membros

### <a name="public-constructors"></a>Construtores públicos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarMenubutton::CMFCToolBarMenubutton](#cmfctoolbarmenubutton)|Constrói um objeto `CMFCToolBarMenuButton`.|

### <a name="public-methods"></a>Métodos públicos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarmenubutton::Comparecom](#comparewith)|Compara esta instância com `CMFCToolBarButton` o objeto fornecido. (Substitui [cmfctoolbarButton::Comparecom .)](../../mfc/reference/cmfctoolbarbutton-class.md#comparewith)|
|[CMFCToolBarMenubutton::CopyFrom](#copyfrom)|Copia as propriedades de outro botão de barra de ferramentas para o botão atual. (Substitui [cmfctoolbarButton::CopyFrom](../../mfc/reference/cmfctoolbarbutton-class.md#copyfrom).)|
|[CMFCToolBarmenuButton::CreateFromMenu](#createfrommenu)|Inicializa o menu da barra de ferramentas a partir de uma alça de menu do Windows.|
|[CMFCToolBarMenuButton::Criarmenu](#createmenu)|Cria um menu do Windows que consiste nos comandos no menu da barra de ferramentas. Retorna uma alça para o menu do Windows.|
|[CMFCToolBarMenuButton::CreatePopupMenu](#createpopupmenu)|Cria um objeto de menu pop-up [(CMFCPopupMenu Class)](../../mfc/reference/cmfcpopupmenu-class.md)para exibir o menu da barra de ferramentas.|
|[CMFCToolBarMenuButton::Habilitaro-separa-se quickcustomize](#enablequickcustomize)||
|[CMFCToolBarMenuButton::Obtercomandos](#getcommands)|Dá acesso somente à lista de comandos no menu da barra de ferramentas.|
|[CMFCToolBarMenuButton::GetImageRect](#getimagerect)|Recupera o retângulo delimitador para a imagem do botão.|
|[CMFCToolBarMenuButton::GetPaletteRows](#getpaletterows)|Retorna o número de linhas no menu pop-up quando o menu estiver no modo paleta.|
|[CMFCToolBarMenuButton::Menu getpopup](#getpopupmenu)|Retorna um ponteiro para o objeto de menu pop-up que está associado ao botão.|
|[CMFCToolBarmenuButton::Hasbutton](#hasbutton)||
|[CMFCToolBarmenubutton::HaveHotBorder](#havehotborder)|Determina se uma borda do botão é exibida quando um usuário seleciona o botão. (Substitui [cmfctoolbarButton::HaveHotBorder](../../mfc/reference/cmfctoolbarbutton-class.md#havehotborder).)|
|[CMFCToolBarmenubutton::isborder](#isborder)||
|[CMFCToolBarMenuButton::IsClickedOnMenu](#isclickedonmenu)||
|[CMFCToolBarMenuButton::IsDroppedDown](#isdroppeddown)|Determina se o menu pop-up é exibido.|
|[CMFCToolbarmenubutton::isemptymenuallowed](#isemptymenuallowed)|Chamado pela estrutura para determinar se um usuário pode abrir um submenu a partir do item do menu selecionado.|
|[CMFCToolBarMenubutton::IsExclusive](#isexclusive)|Determina se o botão está no modo exclusivo, ou seja, se o menu pop-up permanece aberto mesmo quando o usuário move o ponteiro sobre outra barra de ferramentas ou botão.|
|[CMFCToolBarMenubutton::ismenuPaletteMode](#ismenupalettemode)|Determina se o menu pop-up está no modo paleta.|
|[CMFCToolBarMenubutton::isQuickMode](#isquickmode)||
|[CMFCToolbarmenubutton::istearoffmenu](#istearoffmenu)|Determina se o menu pop-up tem uma barra de ruptura.|
|[CMFCToolBarMenuButton::OnAfterCreatePopupMenu](#onaftercreatepopupmenu)||
|[CMFCToolBarmenubutton::OnbeforeDrag](#onbeforedrag)|Especifica se o botão pode ser arrastado. (Substitui [cmfctoolbarButton::OnBeforeDrag](../../mfc/reference/cmfctoolbarbutton-class.md#onbeforedrag).)|
|[CMFCToolBarmenubutton::OnCalculateSize](#oncalculatesize)|Chamado pela estrutura para calcular o tamanho do botão para o contexto do dispositivo especificado e o estado de acoplamento. (Substitui [cmfcToolBarButton::OnCalculateSize](../../mfc/reference/cmfctoolbarbutton-class.md#oncalculatesize).)|
|[CMFCToolBarmenubutton::OnCancelMode](#oncancelmode)|Chamado pelo quadro para lidar com a [mensagem WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode) (Substitui [cmfctoolbarButton::OnCancelMode](../../mfc/reference/cmfctoolbarbutton-class.md#oncancelmode).)|
|[CMFCToolBarMenuButton::OnChangeParentWnd](#onchangeparentwnd)|Chamado pela estrutura quando o botão é inserido em uma nova barra de ferramentas. (Substitui [cmfctoolbarButton::OnChangeParentWnd](cmfctoolbarbutton-class.md#onchangeparentwnd).)|
|[CMFCToolBarmenubutton::OnClick](#onclick)|Chamado pela estrutura quando o usuário clica no botão do mouse. (Substitui [cmfctoolbarButton::OnClick](../../mfc/reference/cmfctoolbarbutton-class.md#onclick).)|
|[CMFCToolBarMenuButton::OnClickMenuItem](#onclickmenuitem)|Chamado pela estrutura quando o usuário seleciona um item no menu pop-up.|
|[CMFCToolBarmenuButton::OnContextHelp](#oncontexthelp)|Chamado pela framework quando a barra de ferramentas dos pais lida com uma mensagem WM_HELPHITTEST. (Substitui [cmfctoolbarButton::OnContextHelp](../../mfc/reference/cmfctoolbarbutton-class.md#oncontexthelp).)|
|[CMFCToolBarmenuButton::OnDraw](#ondraw)|Chamado pela estrutura para desenhar o botão usando os estilos e opções especificados. (Substitui [cmfctoolbarButton::OnDraw](../../mfc/reference/cmfctoolbarbutton-class.md#ondraw).)|
|[CMFCToolBarmenubutton::OndrawonPersonalizelist](#ondrawoncustomizelist)|Chamado pela estrutura para desenhar o botão no painel **Comandos** da caixa de diálogo **Personalizar.** (Substitui [cmfctoolbarButton::OnDrawOnCustomizeList](../../mfc/reference/cmfctoolbarbutton-class.md#ondrawoncustomizelist).)|
|[CMFCToolBarMenuButton::OpenPopupMenu](#openpopupmenu)|Chamado pela estrutura quando o usuário abre o menu pop-up.|
|[CMFCToolBarMenuButton:ResetImageToDefault](#resetimagetodefault)|Define para o valor padrão a imagem associada ao botão. (Substitui [cmfcToolBarButton::ResetImageToDefault](../../mfc/reference/cmfctoolbarbutton-class.md#resetimagetodefault).)|
|[CMFCToolBarmenuButton::SaveBarState](#savebarstate)|Salva o estado do botão da barra de ferramentas. (Substitui [cmfctoolbarButton::SaveBarState](../../mfc/reference/cmfctoolbarbutton-class.md#savebarstate).)|
|[CMFCToolBarMenuButton::Serialize](#serialize)|Lê este objeto de um arquivo ou grava-o em um arquivo. (Substitui [cmfctoolbarButton::Serialize](../../mfc/reference/cmfctoolbarbutton-class.md#serialize).)|
|[CMFCToolBarMenuButton::setACCData](#setaccdata)|Preenche o objeto `CAccessibilityData` fornecido com dados de acessibilidade do botão barra de ferramentas. (Substitui [cmfcToolBarButton::SetACCData](../../mfc/reference/cmfctoolbarbutton-class.md#setaccdata).)|
|[CMFCToolBarMenuButton::setMenuonly](#setmenuonly)|Especifica se o botão pode ser adicionado a uma barra de ferramentas.|
|[CMFCToolBarMenuButton::setMenuPaletteMode](#setmenupalettemode)|Especifica se o menu pop-up está no modo paleta.|
|[CMFCToolBarMenuButton::SetMessageWnd](#setmessagewnd)||
|[CMFCToolBarMenubutton::setRadio](#setradio)|Força o botão de menu da barra de ferramentas a exibir um ícone indicando que ele está selecionado.|
|[CMFCToolBarmenubutton::setTearoff](#settearoff)|Especifica um ID de barra rasgada para o menu pop-up.|

### <a name="protected-methods"></a>Métodos Protegidos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarMenuBotão::DrawDocumentIcon](#drawdocumenticon)|Desenha um ícone no botão de menu.|

### <a name="data-members"></a>Membros de dados

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw](#m_balwayscallownerdraw)|Se TRUE, a estrutura sempre [chamará CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) quando um botão é desenhado.|

## <a name="remarks"></a>Comentários

Um `CMFCToolBarMenuButton` pode aparecer como um menu, um item do menu que tem um submenu, um botão que executa um comando ou exibe um menu ou um botão que exibe apenas um menu. Você determina o comportamento e a aparência do botão de menu especificando parâmetros como a imagem, texto, `CMFCToolbarMenuButton::CMFCToolbarMenuButton`alça do menu e iD de comando que está associado ao botão no construtor .

Uma classe personalizada derivada da `CMFCToolbarMenuButton` classe deve usar a macro [DECLARE_SERIAL.](run-time-object-model-services.md#declare_serial) A [DECLARE_DYNCREATE](run-time-object-model-services.md#declare_dyncreate) macro gera um erro quando o aplicativo fecha.

## <a name="example"></a>Exemplo

O exemplo a seguir demonstra `CMFCToolBarMenuButton` como configurar um objeto. O código ilustra como especificar que o menu suspenso está no modo de paleta e especificar o ID para a barra de tear-off criada quando o usuário arrasta o botão de menu para fora de uma barra de menu. Este trecho de código faz parte da amostra do [Word Pad](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#10](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Hierarquia de herança

[Cobject](cobject-class.md)

[Cmfctoolbarbutton](../../mfc/reference/cmfctoolbarbutton-class.md)

[Cmfctoolbarmenubutton](../../mfc/reference/cmfctoolbarmenubutton-class.md)

## <a name="requirements"></a>Requisitos

**Cabeçalho:** afxtoolbarmenubutton.h

## <a name="cmfctoolbarmenubuttoncmfctoolbarmenubutton"></a><a name="cmfctoolbarmenubutton"></a>CMFCToolBarMenubutton::CMFCToolBarMenubutton

Constrói um objeto `CMFCToolBarMenuButton`.

```
CMFCToolBarMenuButton();
CMFCToolBarMenuButton(const CMFCToolBarMenuButton& src);

CMFCToolBarMenuButton(
    UINT uiID,
    HMENU hMenu,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE);
```

### <a name="parameters"></a>Parâmetros

*src*<br/>
[em] Um objeto `CMFCToolBarMenuButton` existente a ser `CMFCToolBarMenuButton` copiado para este objeto.

*Uiid*<br/>
[em] O ID do comando para executar quando um usuário clica no botão; ou (UINT)-1 para um botão de menu que não execute diretamente um comando.

*Hmenu*<br/>
[em] Uma alça para um menu; ou NULL se o botão não tiver um menu.

*Iimage*<br/>
[em] Índice da imagem para o botão; ou -1 se este botão não tiver um ícone ou usar o ícone para o comando especificado pelo *uiID*. O índice é o `CMFCToolBarImages` mesmo para cada objeto em sua aplicação.

*lpszText*<br/>
[em] O texto do botão de menu da barra de ferramentas.

*bUserButton*<br/>
[em] TRUE se o botão exibir uma imagem definida pelo usuário; FALSO se o botão exibir uma imagem predefinida associada ao comando especificado pelo *uiID*.

### <a name="remarks"></a>Comentários

Se *o uiID* for um ID de comando válido, o botão executa esse comando quando o usuário clica nele. Se *hMenu* for uma alça de menu válida, o botão fornecerá um menu suspenso quando ele aparecer em uma barra de ferramentas ou um submenu quando ele aparecer em um menu. Se o *uiID* e *o hMenu* forem válidos, o botão será um botão dividido com uma parte que executará o comando quando o usuário clicar nele e uma parte com uma seta para baixo que irá baixar um menu quando o usuário clicar nele. No entanto, se *hMenu* for válido, o usuário não poderá clicar no botão para executar um comando quando o botão for inserido em um menu.

### <a name="example"></a>Exemplo

O exemplo a seguir demonstra como `CMFCToolBarMenuButton` construir um objeto da classe. Este trecho de código faz parte da amostra do [Word Pad](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#9](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_2.cpp)]

## <a name="cmfctoolbarmenubuttoncomparewith"></a><a name="comparewith"></a>CMFCToolBarmenubutton::Comparecom

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parâmetros

[em] *outros*<br/>

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttoncopyfrom"></a><a name="copyfrom"></a>CMFCToolBarMenubutton::CopyFrom

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parâmetros

[em] *src*<br/>

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttoncreatefrommenu"></a><a name="createfrommenu"></a>CMFCToolBarmenuButton::CreateFromMenu

Inicializa o menu da barra de ferramentas a partir de uma alça de menu do Windows.

```
virtual void CreateFromMenu(HMENU hMenu);
```

### <a name="parameters"></a>Parâmetros

*Hmenu*<br/>
[em] Uma alça para um menu.

### <a name="remarks"></a>Comentários

Um botão de menu da barra de ferramentas pode exibir um submenu suspenso.

A estrutura chama esse método para inicializar os comandos no submenu a partir de um menu.

## <a name="cmfctoolbarmenubuttoncreatemenu"></a><a name="createmenu"></a>CMFCToolBarMenuButton::Criarmenu

Cria um menu que consiste nos comandos no menu da barra de ferramentas. Devolve uma alça ao menu.

```
virtual HMENU CreateMenu() const;
```

### <a name="return-value"></a>Valor retornado

Uma alça para o menu se o sucesso. NULL se a lista de comandos associados ao botão de menu da barra de ferramentas estiver vazia.

### <a name="remarks"></a>Comentários

Você pode substituir este método em uma classe derivada para personalizar a forma como o menu é gerado.

## <a name="cmfctoolbarmenubuttoncreatepopupmenu"></a><a name="createpopupmenu"></a>CMFCToolBarMenuButton::CreatePopupMenu

Cria `CMFCPopupMenu` um objeto para exibir o menu da barra de ferramentas.

```
virtual CMFCPopupMenu* CreatePopupMenu();
```

### <a name="return-value"></a>Valor retornado

Um ponteiro `CMFCPopupMenu` para um objeto que exibe o menu suspenso associado ao botão menu da barra de ferramentas.

### <a name="remarks"></a>Comentários

Este método é chamado pela estrutura para preparar a exibição do menu suspenso associado ao botão.

A implementação padrão apenas constrói `CMFCPopupMenu` e retorna um novo objeto. Anular este método se você quiser usar um tipo derivado de [CMFCPopupMenu Class](cmfcpopupmenu-class.md) ou para executar inicialização adicional.

## <a name="cmfctoolbarmenubuttondrawdocumenticon"></a><a name="drawdocumenticon"></a>CMFCToolBarMenuBotão::DrawDocumentIcon

Desenha um ícone de documento no botão menu.

```cpp
void DrawDocumentIcon(
    CDC* pDC,
    const CRect& rectImage,
    HICON hIcon);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
[em] Um ponteiro para o contexto do dispositivo.

*rectImage*<br/>
[em] Coordenadas do retângulo delimitador de imagem.

*Hicon*<br/>
[em] Uma alça para o ícone.

### <a name="remarks"></a>Comentários

Este método pega um ícone de documento e o desenha no botão menu, centrado na área especificada por *rectImage*.

## <a name="cmfctoolbarmenubuttonenablequickcustomize"></a><a name="enablequickcustomize"></a>CMFCToolBarMenuButton::Habilitaro-separa-se quickcustomize

```cpp
void EnableQuickCustomize();
```

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonhasbutton"></a><a name="hasbutton"></a>CMFCToolBarmenuButton::Hasbutton

```
virtual BOOL HasButton() const;
```

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonhavehotborder"></a><a name="havehotborder"></a>CMFCToolBarmenubutton::HaveHotBorder

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonisborder"></a><a name="isborder"></a>CMFCToolBarmenubutton::isborder

```
virtual BOOL IsBorder() const;
```

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonisclickedonmenu"></a><a name="isclickedonmenu"></a>CMFCToolBarMenuButton::IsClickedOnMenu

```
BOOL IsClickedOnMenu() const;
```

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonisquickmode"></a><a name="isquickmode"></a>CMFCToolBarMenubutton::isQuickMode

```
BOOL IsQuickMode();
```

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttongetcommands"></a><a name="getcommands"></a>CMFCToolBarMenuButton::Obtercomandos

Dá acesso somente à lista de comandos no menu da barra de ferramentas.

```
const CObList& GetCommands() const;
```

### <a name="return-value"></a>Valor retornado

Uma referência const a um objeto [CObList Class,](../../mfc/reference/coblist-class.md) que contém uma coleção de objetos [CMFCToolBarButton Class.](../../mfc/reference/cmfctoolbarbutton-class.md)

### <a name="remarks"></a>Comentários

Um botão de menu da barra de ferramentas pode exibir um submenu. Você pode fornecer a lista de comandos no submenu no construtor ou no [CMFCToolBarMenuButton::CreateFromMenu](#createfrommenu) como uma alça para um menu (HMENU). O menu é convertido em uma lista de objetos derivados da Classe `CObList` [CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) e armazenados no objeto interno. Você pode acessar esta lista chamando este método.

## <a name="cmfctoolbarmenubuttongetimagerect"></a><a name="getimagerect"></a>CMFCToolBarMenuButton::GetImageRect

Recupera o retângulo delimitador para a imagem do botão.

```cpp
void GetImageRect(CRect& rectImage);
```

### <a name="parameters"></a>Parâmetros

*rectImage*<br/>
[fora] Uma referência `CRect` a um objeto que recebe as coordenadas do retângulo delimitador de imagem.

## <a name="cmfctoolbarmenubuttongetpaletterows"></a><a name="getpaletterows"></a>CMFCToolBarMenuButton::GetPaletteRows

Retorna o número de linhas no menu suspenso quando o menu estiver no modo paleta.

```
int GetPaletteRows() const;
```

### <a name="return-value"></a>Valor retornado

O número de linhas na paleta.

### <a name="remarks"></a>Comentários

Quando o botão de menu estiver configurado para o modo paleta, os itens do menu aparecerão em várias colunas com apenas um número limitado de linhas. Ligue para este método para obter o número de linhas. Você pode ativar ou desativar o modo de paleta e especificar o número de linhas usando [CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode).

## <a name="cmfctoolbarmenubuttongetpopupmenu"></a><a name="getpopupmenu"></a>CMFCToolBarMenuButton::Menu getpopup

Retorna um ponteiro para o objeto [CMFCPopupMenu Class](../../mfc/reference/cmfcpopupmenu-class.md) que representa o menu suspenso do botão.

```
CMFCPopupMenu* GetPopupMenu() const;
```

### <a name="return-value"></a>Valor retornado

Um ponteiro para um objeto [CMFCPopupMenu Class](../../mfc/reference/cmfcpopupmenu-class.md) que foi criado quando a estrutura desenhou o submenu do botão de menu da barra de ferramentas; NULL se nenhum submenu for exibido.

### <a name="remarks"></a>Comentários

Quando um botão de menu de barra de ferramentas exibe um menu suspenso, o botão cria um objeto [CMFCPopupMenu Class](../../mfc/reference/cmfcpopupmenu-class.md) para representar o menu. Chame este método para obter `CMFCPopupMenu` um ponteiro para o objeto. Você não deve armazenar o ponteiro retornado, porque ele é temporário e se torna inválido quando o usuário fecha o menu suspenso.

## <a name="cmfctoolbarmenubuttonisdroppeddown"></a><a name="isdroppeddown"></a>CMFCToolBarMenuButton::IsDroppedDown

Indica se o menu pop-up está atualmente exibido.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o botão de menu da barra de ferramentas exibir seu submenu; caso contrário, FALSO.

## <a name="cmfctoolbarmenubuttonisemptymenuallowed"></a><a name="isemptymenuallowed"></a>CMFCToolbarmenubutton::isemptymenuallowed

Especifica se os itens do menu mostram submenus vazios.

```
virtual BOOL IsEmptyMenuAllowed() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o framework abrir um submenu do item de menu selecionado no momento, mesmo quando o submenu estiver vazio; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando um usuário tenta abrir o submenu do item de menu selecionado no momento. Se o submenu `IsEmptyMenuAllowed` estiver vazio e retornar FALSO, o submenu não abrirá.

A implementação padrão retorna FALSE. Anular este método para personalizar esse comportamento.

## <a name="cmfctoolbarmenubuttonisexclusive"></a><a name="isexclusive"></a>CMFCToolBarMenubutton::IsExclusive

Indica se o botão está no modo exclusivo.

```
virtual BOOL IsExclusive() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o botão estiver funcionando no modo exclusivo; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Quando um usuário abre um menu pop-up para um botão e, em seguida, move o ponteiro do mouse sobre outra barra de ferramentas ou botão de menu, o menu popup fecha a menos que o botão esteja no modo exclusivo.

A implementação padrão sempre retorna FALSE. Anular este método em uma classe derivada se você quiser ativar o modo exclusivo.

## <a name="cmfctoolbarmenubuttonismenupalettemode"></a><a name="ismenupalettemode"></a>CMFCToolBarMenubutton::ismenuPaletteMode

Determina se o menu suspenso está no modo paleta.

```
BOOL IsMenuPaletteMode() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o modo paleta estiver ativado, caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Quando o botão de menu é definido para o modo paleta, os itens do menu aparecem em várias colunas com apenas um número limitado de linhas. Ligue para este método para obter o número de linhas. Você pode ativar ou desativar o modo paleta chamando [CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode).

## <a name="cmfctoolbarmenubuttonistearoffmenu"></a><a name="istearoffmenu"></a>CMFCToolbarmenubutton::istearoffmenu

Indica se o menu suspenso tem uma barra de ruptura.

```
virtual BOOL IsTearOffMenu() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o botão do menu da barra de ferramentas tiver uma barra de rasgos; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Para ativar o recurso de tear-off e definir o ID da barra de tear-off, ligue para [CMFCToolBarMenuButton::SetTearOff](#settearoff).

## <a name="cmfctoolbarmenubuttonm_balwayscallownerdraw"></a><a name="m_balwayscallownerdraw"></a>CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw

Especifica se a estrutura sempre chama [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) quando um botão é desenhado.

```
static BOOL m_bAlwaysCallOwnerDraw;
```

### <a name="remarks"></a>Comentários

Quando esta variável de membro é definida como TRUE, o botão sempre chama [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) para exibir a imagem no botão. Quando `m_bAlwaysCallOwnerDraw` é FALSO, o próprio botão desenha a imagem se a imagem for predefinida. Caso contrário, `OnDrawMenuImage`ele chama .

## <a name="cmfctoolbarmenubuttononaftercreatepopupmenu"></a><a name="onaftercreatepopupmenu"></a>CMFCToolBarMenuButton::OnAfterCreatePopupMenu

```
virtual void OnAfterCreatePopupMenu();
```

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttononbeforedrag"></a><a name="onbeforedrag"></a>CMFCToolBarmenubutton::OnbeforeDrag

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttononcalculatesize"></a><a name="oncalculatesize"></a>CMFCToolBarmenubutton::OnCalculateSize

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parâmetros

[em] *pDC*<br/>
[em] *tamanhoPadrão*<br/>
[em] *bHorz*<br/>

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttononcancelmode"></a><a name="oncancelmode"></a>CMFCToolBarmenubutton::OnCancelMode

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttononchangeparentwnd"></a><a name="onchangeparentwnd"></a>CMFCToolBarMenuButton::OnChangeParentWnd

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parâmetros

[em] *pWndParent*<br/>

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttononclick"></a><a name="onclick"></a>CMFCToolBarmenubutton::OnClick

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay = TRUE);
```

### <a name="parameters"></a>Parâmetros

[em] *pWnd*<br/>
[em] *bAtraso*<br/>

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttononclickmenuitem"></a><a name="onclickmenuitem"></a>CMFCToolBarMenuButton::OnClickMenuItem

Chamado pela estrutura quando o usuário seleciona um item no menu suspenso.

```
virtual BOOL OnClickMenuItem();
```

### <a name="return-value"></a>Valor retornado

FALSE se o framework continuar o processamento de item de menu padrão; caso contrário, VERDADEIRO. A implementação padrão sempre retorna FALSE.

### <a name="remarks"></a>Comentários

Quando o usuário clica em um item do menu, a estrutura executa um comando associado a esse item.

Para personalizar o processamento do item do menu, altere-o `OnClickMenuItem` em uma classe derivada da `CMFCToolBarMenuButton` classe. Você também deve substituir [CFrameWndEx::OnShowPopupMenu](../../mfc/reference/cframewndex-class.md#onshowpopupmenu) e substituir os botões de menu que requerem processamento especial por instâncias da classe derivada.

## <a name="cmfctoolbarmenubuttononcontexthelp"></a><a name="oncontexthelp"></a>CMFCToolBarmenuButton::OnContextHelp

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parâmetros

[em] *pWnd*<br/>

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonondraw"></a><a name="ondraw"></a>CMFCToolBarmenuButton::OnDraw

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz = TRUE,
    BOOL bCustomizeMode = FALSE,
    BOOL bHighlight = FALSE,
    BOOL bDrawBorder = TRUE,
    BOOL bGrayDisabledButtons = TRUE);
```

### <a name="parameters"></a>Parâmetros

[em] *pDC*<br/>
[em] *rect*<br/>
[em] *pImagens*<br/>
[em] *bHorz*<br/>
[em] *bPersonalizeMode*<br/>
[em] *bDestaque*<br/>
[em] *bDrawBorder*<br/>
[em] *bGrayDisabledButtons*<br/>

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonondrawoncustomizelist"></a><a name="ondrawoncustomizelist"></a>CMFCToolBarmenubutton::OndrawonPersonalizelist

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parâmetros

[em] *pDC*<br/>
[em] *rect*<br/>
[em] *bSelecionado*<br/>

### <a name="return-value"></a>Valor retornado

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonopenpopupmenu"></a><a name="openpopupmenu"></a>CMFCToolBarMenuButton::OpenPopupMenu

Chamado pela estrutura quando o usuário abre o menu suspenso de um botão de menu de barra de ferramentas.

```
virtual BOOL OpenPopupMenu(CWnd* pWnd=NULL);
```

### <a name="parameters"></a>Parâmetros

*Pwnd*<br/>
[em] Especifica a janela que recebe os comandos do menu suspenso. Ele só pode ser NULA se o botão do menu da barra de ferramentas tiver uma janela pai.

### <a name="return-value"></a>Valor retornado

TRUE quando um objeto [CMFCPopupMenu Class](../../mfc/reference/cmfcpopupmenu-class.md) foi criado e aberto com sucesso; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Essa função é chamada pela estrutura quando o usuário abre um menu suspenso a partir de um botão de menu da barra de ferramentas.

## <a name="cmfctoolbarmenubuttonresetimagetodefault"></a><a name="resetimagetodefault"></a>CMFCToolBarMenuButton:ResetImageToDefault

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonsavebarstate"></a><a name="savebarstate"></a>CMFCToolBarmenuButton::SaveBarState

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando cria um botão de barra de ferramentas como resultado de uma operação de arrastar e soltar. Este método chama o [CMFCPopupMenu::SaveState](../../mfc/reference/cmfcpopupmenu-class.md#savestate) do menu pop-up de nível superior, o que faz com que o botão pai do menu pop-up recrie seu menu.

## <a name="cmfctoolbarmenubuttonserialize"></a><a name="serialize"></a>CMFCToolBarMenuButton::Serialize

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parâmetros

[em] *ar*<br/>

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonsetaccdata"></a><a name="setaccdata"></a>CMFCToolBarMenuButton::setACCData

Define os dados de acessibilidade para o elemento de fita.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parâmetros

*pParent*<br/>
A janela dos pais para o elemento da fita.

*dados*<br/>
Os dados de acessibilidade para o elemento fita.

### <a name="return-value"></a>Valor retornado

Sempre retorna TRUE.

### <a name="remarks"></a>Comentários

Por padrão, este método define os dados de acessibilidade para o elemento fita e sempre retorna TRUE. Substituir este método para definir os dados de acessibilidade e retornar um valor que indique sucesso ou falha.

## <a name="cmfctoolbarmenubuttonsetmenuonly"></a><a name="setmenuonly"></a>CMFCToolBarMenuButton::setMenuonly

Especifica se o botão é desenhado como um botão de menu ou um botão dividido quando ele tem um ID de comando válido e um submenu.

```cpp
void SetMenuOnly(BOOL bMenuOnly);
```

### <a name="parameters"></a>Parâmetros

*bMenuOnly*<br/>
[em] TRUE para mostrar este botão como um botão de menu quando ele tem um ID de comando válido e um submenu, FALSE para mostrar este botão como um botão split quando ele tem um ID de comando válido e um submenu.

### <a name="remarks"></a>Comentários

Normalmente, quando um botão de menu de barra de ferramentas tem um submenu e um ID de comando, o menu parece ser um botão dividido que tem um botão principal e um botão de seta anexado para baixo. Se você chamar este método e *bMenuOnly* é TRUE, o botão em vez disso parece ser um único botão de menu com uma seta para baixo no botão. Quando o usuário clica na seta em ambos os modos, o submenu é aberto e quando o usuário clica na parte não-seta do botão em qualquer modo, a estrutura executa o comando .

## <a name="cmfctoolbarmenubuttonsetmenupalettemode"></a><a name="setmenupalettemode"></a>CMFCToolBarMenuButton::setMenuPaletteMode

Especifica se o menu suspenso está no modo paleta.

```cpp
void SetMenuPaletteMode(
    BOOL bMenuPaletteMode=TRUE,
    int nPaletteRows=1);
```

### <a name="parameters"></a>Parâmetros

*bMenuPaletteMode*<br/>
[em] Especifica se o menu suspenso está no modo paleta.

*nPaletteRows*<br/>
[em] Número de linhas na paleta.

### <a name="remarks"></a>Comentários

No modo paleta, todos os itens do menu são exibidos como uma paleta de várias colunas. Você especifica o número de linhas usando *nPaletteRows*.

## <a name="cmfctoolbarmenubuttonsetmessagewnd"></a><a name="setmessagewnd"></a>CMFCToolBarMenuButton::SetMessageWnd

```cpp
void SetMessageWnd(CWnd* pWndMessage);
```

### <a name="parameters"></a>Parâmetros

[em] *pWndMessage*<br/>

### <a name="remarks"></a>Comentários

## <a name="cmfctoolbarmenubuttonsetradio"></a><a name="setradio"></a>CMFCToolBarMenubutton::setRadio

Defina o botão de menu da barra de ferramentas para exibir um ícone de estilo de botão de rádio quando for verificado.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Comentários

Quando o botão de menu é desenhado enquanto é verificado, ele chama [CMFCVisualManager::OnDrawMenuCheck](../../mfc/reference/cmfcvisualmanager-class.md#ondrawmenucheck) para desenhar um ícone de marca de seleção. Por padrão, `OnDrawMenuCheck` solicita que o gerenciador visual atual desenhista uma marca de seleção estilo caixa de seleção no botão menu. Depois de chamar esse método, o gerenciador visual atual desenha uma marca de seleção de estilo de botão de rádio no botão de menu. Esta mudança não pode ser desfeita.

Quando você chamar este método e o botão de menu estiver sendo exibido no momento, ele será atualizado.

## <a name="cmfctoolbarmenubuttonsettearoff"></a><a name="settearoff"></a>CMFCToolBarmenubutton::setTearoff

Especifica o ID da barra de tear-off para o menu suspenso.

```
virtual void SetTearOff(UINT uiBarID);
```

### <a name="parameters"></a>Parâmetros

*uiBarID*<br/>
[em] Especifica uma nova id de barra de ruptura.

### <a name="remarks"></a>Comentários

Chame este método para especificar o ID para a barra de tear-off criada quando o usuário arrasta o botão de menu para fora de uma barra de menu. Se o parâmetro *uiBarID* for 0, o usuário não poderá rasgar o botão do menu.

Ligue para [cwinappEx::EnableTearOffMenus](../../mfc/reference/cwinappex-class.md#enabletearoffmenus) para ativar o recurso de menu tear-off em seu aplicativo.

## <a name="see-also"></a>Confira também

[Gráfico da hierarquia](../../mfc/hierarchy-chart.md)<br/>
[Classes](../../mfc/reference/mfc-classes.md)<br/>
[Classe CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)<br/>
[Classe CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)<br/>
[Classe CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md)
