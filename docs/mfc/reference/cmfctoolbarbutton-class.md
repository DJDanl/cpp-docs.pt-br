---
title: Classe CMFCToolBarButton
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
ms.openlocfilehash: 5d6b964543a5cbd8a8896fe768e2d57a098ead97
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/14/2020
ms.locfileid: "81372211"
---
# <a name="cmfctoolbarbutton-class"></a>Classe CMFCToolBarButton

Fornece a funcionalidade do botão para barras de ferramentas.

## <a name="syntax"></a>Sintaxe

```
class CMFCToolBarButton : public CObject
```

## <a name="members"></a>Membros

### <a name="public-constructors"></a>Construtores públicos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Constrói e inicializa um objeto `CMFCToolBarButton`.|
|`CMFCToolBarButton::~CMFCToolBarButton`|Destruidor.|

### <a name="public-methods"></a>Métodos públicos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarButton::CanBeD ropped](#canbedropped)|Especifica se um usuário pode posicionar um botão em uma barra de ferramentas ou menu durante a personalização.|
|[CMFCToolBarbutton::CanbeStored](#canbestored)|Especifica se o botão pode ser armazenado.|
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|Especifica se um usuário pode esticar o botão durante a personalização.|
|[CMFCToolBarbutton::Comparecom](#comparewith)|Compara esta instância com `CMFCToolBarButton` o objeto fornecido.|
|[CMFCToolBarButton::CopyFrom](#copyfrom)|Copia as propriedades de outro botão de barra de ferramentas para o botão atual.|
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Cria `CMFCToolBarButton` um objeto a `COleDataObject` partir do objeto fornecido.|
|`CMFCToolBarButton::CreateObject`|Usado pela estrutura para criar uma instância dinâmica desse tipo de classe.|
|[CMFCToolBarButton::Ativarjanela](#enablewindow)|Ativa ou desativa a entrada do mouse e do teclado.|
|[CMFCToolBarbutton::ExportToMenuButton](#exporttomenubutton)|Copia o texto do botão da barra de ferramentas para um menu.|
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Recupera o formato global da área de transferência para o aplicativo.|
|[CMFCToolBarButton::GetHwnd](#gethwnd)|Recupera a alça da janela associada ao botão da barra de ferramentas.|
|[CMFCToolBarbutton::GetImage](#getimage)|Recupera o índice de imagem do botão.|
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Recupera a região da área cliente do botão que deve ser redesenhada.|
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Recupera a janela pai do botão.|
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Recupera a lista de comandos que o usuário não pode personalizar.|
|[CMFCToolBarbutton::GetTextSize](#gettextsize)|Recupera o tamanho do texto do botão.|
|[CMFCToolBarbutton::HasFocus](#hasfocus)|Determina se o botão tem o foco de entrada atual.|
|[CMFCToolBarbutton::HaveHotBorder](#havehotborder)|Determina se uma borda do botão é exibida quando um usuário seleciona o botão.|
|[BOTÃO CMFCToolBarButton::IsDrawImage](#isdrawimage)|Determina se uma imagem é exibida no botão.|
|[BOTÃO CMFCToolBarButton::IsDrawText](#isdrawtext)|Determina se um rótulo de texto é exibido no botão.|
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Determina se o botão exibe um submenu.|
|[CMFCToolBarButton::IsEditável](#iseditable)|Determina se o botão pode ser personalizado.|
|[CMFCToolbarbutton::isextrasize](#isextrasize)|Determina se o botão pode ser exibido com uma borda estendida.|
|[CMFCToolBarbutton::IsFirstInGroup](#isfirstingroup)|Determina se o botão está na primeira posição do grupo de botões.|
|[CMFCToolBarbutton::IsHidden](#ishidden)|Determina se o botão está oculto.|
|[BOTÃO CMFCToolBar::IsHorizontal](#ishorizontal)|Determina se o botão está localizado em uma barra de ferramentas horizontal.|
|[BOTÃO CMFCToolBarbutton::IslastinGroup](#islastingroup)|Especifica se o botão está na última posição do grupo de botões.|
|[CMFCToolBarbutton::islocked](#islocked)|Determina se o botão está em uma barra de ferramentas bloqueada (não personalizável).|
|[CMFCToolbarbutton::Isownerof](#isownerof)|Determina se o botão é o dono da alça da janela fornecida.|
|[BOTÃO CMFCToolBarButton::IsVisible](#isvisible)|Determina se o botão da barra de ferramentas está visível.|
|[BOTÃO CMFCToolBarButton::IswindowVisible](#iswindowvisible)|Determina se a alça da janela subjacente do botão está visível.|
|[CMFCToolBarButton::Notificarcomando](#notifycommand)|Especifica se o botão processa a [mensagem WM_COMMAND.](/windows/win32/menurc/wm-command)|
|[CMFCToolBarbutton::Onaddtocustompage](#onaddtocustomizepage)|Chamado pela estrutura quando o botão é adicionado a uma caixa de diálogo **Personalizar.**|
|[BOTÃO CMFCToolBarButton::OnbeforeDrag](#onbeforedrag)|Especifica se o botão pode ser arrastado.|
|[BOTÃO CMFCToolBarButton::OnbeforeDrop](#onbeforedrop)|Especifica se um usuário pode soltar o botão na barra de ferramentas de destino.|
|[CMFCToolBarbutton::OnCalculateSize](#oncalculatesize)|Chamado pela estrutura para calcular o tamanho do botão para o contexto do dispositivo especificado e o estado de acoplamento.|
|[BOTÃO CMFCToolBar::OnCancelMode](#oncancelmode)|Chamado pelo quadro para lidar com a [mensagem WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)|
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Chamado pela estrutura quando o botão é inserido em uma nova barra de ferramentas.|
|[CMFCToolBarbutton::OnClick](#onclick)|Chamado pela estrutura quando o usuário clica no botão do mouse.|
|[CMFCToolbarbutton::OnClickUp](#onclickup)|Chamado pela estrutura quando o usuário libera o botão do mouse.|
|[CMFCToolBarbutton::OnContextHelp](#oncontexthelp)|Chamado pela framework quando a barra de ferramentas dos pais lida com uma mensagem WM_HELPHITTEST.|
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Chamado pela estrutura quando a barra de ferramentas dos pais lida com uma mensagem WM_CTLCOLOR.|
|[CMFCToolBarbutton::OnPersonalizeMenu](#oncustomizemenu)|Permite que o botão modifique o menu fornecido quando o aplicativo exibe um menu de atalho na barra de ferramentas pai.|
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Chamado pela framework quando a barra de ferramentas dos pais lida com uma [mensagem WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)|
|[CMFCToolBarbutton::OnDraw](#ondraw)|Chamado pela estrutura para desenhar o botão usando os estilos e opções especificados.|
|[CMFCToolBarbutton::OnDrawOnPersonalizelist](#ondrawoncustomizelist)|Chamado pela estrutura para desenhar o botão no painel **Comandos** da caixa de diálogo **Personalizar.**|
|[CMFCToolBarbutton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Chamado pela estrutura para recuperar o texto de dica de ferramenta personalizada para o botão.|
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Chamado pelo framework quando a fonte global foi alterada.|
|[CMFCToolBarbutton::OnMove](#onmove)|Chamada pela estrutura quando a barra de ferramentas dos pais se move.|
|[CMFCToolBarbutton::OnShow](#onshow)|Chamado pela estrutura quando o botão se torna visível ou invisível.|
|[BOTÃO CMFCToolBarButton::OnSize](#onsize)|Chamada pela estrutura quando a barra de ferramentas pai muda seu tamanho ou posição e esta alteração requer que o botão mude de tamanho.|
|[CMFCToolBarbutton::OntoolHitTest](#ontoolhittest)|Chamado pela estrutura quando a barra de ferramentas pai deve determinar se um ponto está no retângulo delimitador do botão.|
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Chamada pela framework quando a barra de ferramentas pai atualiza seu texto de dica de ferramenta.|
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|Chamado pela estrutura quando o botão está prestes a executar uma operação de arrastar e soltar.|
|[CMFCToolBarButton::Rect](#rect)|Recupera o retângulo delimitador do botão.|
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Define para o valor padrão a imagem associada ao botão.|
|[CMFCToolBarbutton::SaveBarState](#savebarstate)|Salva o estado do botão da barra de ferramentas.|
|[CMFCToolBarButton::Serialize](#serialize)|Lê este objeto de um arquivo ou grava-o em um arquivo. (Substitui [cobject::Serialize](../../mfc/reference/cobject-class.md#serialize).)|
|[CMFCToolBarButton::setACCData](#setaccdata)|Preenche o objeto `CAccessibilityData` fornecido com dados de acessibilidade do botão barra de ferramentas.|
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Renomeia o formato global da área de transferência.|
|[CMFCToolBarButton::setImage](#setimage)|Define o índice de imagem do botão.|
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Define a lista de comandos que o usuário não pode personalizar.|
|[CMFCToolBarButton::setRadio](#setradio)|Chamado pelo framework quando um botão altera seu estado verificado.|
|[CMFCToolBarButton::SetRect](#setrect)|Define o retângulo delimitador do botão.|
|[CMFCToolBarButton::setStyle](#setstyle)|Define o estilo do botão.|
|[CMFCToolBarButton::setVisible](#setvisible)|Especifica se o botão está visível.|
|[CMFCToolBarbutton::Show](#show)|Mostra ou esconde o botão.|

### <a name="data-members"></a>Membros de dados

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarButton::m_bImage](#m_bimage)|Especifica se uma imagem é exibida no botão.|
|[BOTÃO CMFCToolBar::m_bText](#m_btext)|Especifica se um rótulo de texto é exibido no botão.|
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|Especifica se a etiqueta de texto é exibida abaixo da imagem no botão.|
|[CMFCToolBarButton::m_bUserButton](#m_buserbutton)|Especifica se o botão tem uma imagem definida pelo usuário.|
|[CMFCToolBarButton::m_bWholeText](#m_bwholetext)|Especifica se o botão exibe seu rótulo de texto completo mesmo que não se encaixe no retângulo delimitador.|
|[CMFCToolBarButton::m_bWrap](#m_bwrap)|Especifica se o botão ao lado de um separador será colocado na próxima linha.|
|[CMFCToolBarButton::m_bWrapText](#m_bwraptext)|Especifica se os rótulos de texto multi-linha estão habilitados.|
|[CMFCToolBarButton::m_nID](#m_nid)|O id de comando do botão.|
|[BOTÃO CMFCToolBar::m_nStyle](#m_nstyle)|O estilo do botão.|
|[CMFCToolBarButton::m_strText](#m_strtext)|O rótulo de texto do botão.|

## <a name="remarks"></a>Comentários

Um `CMFCToolbarButton` objeto é um controle que reside em uma barra de ferramentas. Seu comportamento se assemelha ao de um botão comum. Você pode atribuir uma imagem e um rótulo de texto a este objeto. Um botão de barra de ferramentas também pode ter um ID de comando. Quando o usuário clica no botão barra de ferramentas, a estrutura executa o comando que este ID especifica.

Normalmente, os botões da barra de ferramentas podem ser personalizados: o usuário pode arrastar botões de uma barra de ferramentas para outra e copiar, colar, excluir e editar rótulos e imagens de texto. Para evitar que o usuário personalize a barra de ferramentas, você pode bloquear a barra de ferramentas de duas maneiras. Defina `bLocked` o sinalizador como TRUE quando você chamar [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar)ou adicione o ID de comando de um botão individual à lista global de comandos protegidos usando o método [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) method.

`CMFCToolBarButton`objetos exibem imagens das coleções globais de imagens da barra de ferramentas no aplicativo. Essas coleções são mantidas pela barra de ferramentas pai, [CMFCToolBar Class](../../mfc/reference/cmfctoolbar-class.md). Para obter mais informações, consulte [CMFCToolBarImages Class](../../mfc/reference/cmfctoolbarimages-class.md).

Quando o usuário clica em um botão de barra de ferramentas, sua barra de ferramentas pai processa a mensagem do mouse e comunica as ações apropriadas ao botão. Se o botão tiver um ID de comando válido, a barra de ferramentas pai envia a mensagem WM_COMMAND para o quadro pai.

A `CMFCToolBarButton` classe é a classe base para outras classes de botões de barra de ferramentas, como [CMFCToolBarMenuButton Class,](../../mfc/reference/cmfctoolbarmenubutton-class.md) [CMFCToolBarEditBoxButton Class](../../mfc/reference/cmfctoolbareditboxbutton-class.md)e [CMFCToolBarComboBoxButton Class](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md).

## <a name="example"></a>Exemplo

O exemplo a seguir demonstra `CMFCToolBarButton` como configurar um objeto `CMFCToolBarButton` usando vários métodos na classe. O exemplo ilustra como ativar a entrada do mouse e do teclado, definir o índice de imagem do botão, definir o retângulo delimitador do botão e tornar o botão visível. Este trecho de código faz parte da [amostra de Controle](../../overview/visual-cpp-samples.md)de Guia .

[!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>Hierarquia de herança

[Cobject](../../mfc/reference/cobject-class.md)

[Cmfctoolbarbutton](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="requirements"></a>Requisitos

**Cabeçalho:** afxtoolbarbutton.h

## <a name="cmfctoolbarbuttoncanbedropped"></a><a name="canbedropped"></a>CMFCToolBarButton::CanBeD ropped

Especifica se um usuário pode posicionar um botão em uma barra de ferramentas ou menu durante a personalização.

```
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```

### <a name="parameters"></a>Parâmetros

*barra de ferramentas*<br/>
[em] Utilizadas.

### <a name="return-value"></a>Valor retornado

Este método retorna TRUE.

### <a name="remarks"></a>Comentários

Por padrão, um botão de barra de ferramentas pode ser descartado em todas as barras de ferramentas personalizáveis (ou seja, não bloqueadas).

A implementação padrão deste método retorna TRUE. Anular este método e retornar FALSO se quiser impedir que o usuário reposicione o botão.

## <a name="cmfctoolbarbuttoncanbestored"></a><a name="canbestored"></a>CMFCToolBarbutton::CanbeStored

Determina se o botão pode ser armazenado.

```
virtual BOOL CanBeStored() const;
```

### <a name="return-value"></a>Valor retornado

Este método retorna TRUE.

### <a name="remarks"></a>Comentários

A estrutura usa este método para determinar se o botão pode participar de uma operação de arrastar e soltar.

A implementação padrão retorna TRUE. Anular este método se o botão não puder ser armazenado como parte de uma operação de arrastar e soltar. Para obter mais informações sobre operações de arrastar e soltar, consulte [o OLE arrastar e soltar](../../mfc/drag-and-drop-ole.md).

## <a name="cmfctoolbarbuttoncanbestretched"></a><a name="canbestretched"></a>CMFCToolBarButton::CanBeStretched

Especifica se um usuário pode esticar o botão durante a personalização.

```
virtual BOOL CanBeStretched() const;
```

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

Este método é usado pela estrutura para determinar se o botão pode ser esticado no modo de personalização.

A implementação padrão deste método retorna FALSE. Substituir este método para retornar TRUE para um controle de largura variável, como uma caixa de combinação ou controle deslizante.

Para obter mais informações sobre o modo de personalização, consulte [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).

## <a name="cmfctoolbarbuttoncmfctoolbarbutton"></a><a name="cmfctoolbarbutton"></a>CMFCToolBarButton::CMFCToolBarButton

Constrói e inicializa um objeto `CMFCToolBarButton`.

```
CMFCToolBarButton(
    UINT uiID,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Parâmetros

*Uiid*<br/>
[em] O id de comando do botão.

*Iimage*<br/>
[em] O índice de imagem do botão na coleção de imagens.

*lpszText*<br/>
[em] O rótulo de texto do botão. Pode ser NULL.

*bUserButton*<br/>
[em] Um valor booleano que determina se o botão é definido pelo usuário. Se este parâmetro for TRUE, o botão será definido pelo usuário. Caso contrário, a imagem do botão é carregada a partir de um recurso.

*Bloqueado*<br/>
[em] Um valor booleano que determina se o botão pode ser personalizado. Se este parâmetro for TRUE, o botão não poderá ser personalizado. Caso contrário, o botão pode ser personalizado.

## <a name="cmfctoolbarbuttoncomparewith"></a><a name="comparewith"></a>CMFCToolBarbutton::Comparecom

Compara esta instância com `CMFCToolBarButton` o objeto fornecido.

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parâmetros

*Outros*<br/>
[em] Referência ao objeto para comparar com esta instância.

### <a name="return-value"></a>Valor retornado

Não zero se o objeto fornecido for igual ao valor desta instância; caso contrário, 0.

### <a name="remarks"></a>Comentários

A implementação padrão determina se o ID de comando do objeto fornecido é igual ao ID de comando desta instância. Anular este método se você tiver que executar `CMFCToolBarButton` processamento adicional para determinar se dois objetos são iguais.

## <a name="cmfctoolbarbuttoncopyfrom"></a><a name="copyfrom"></a>CMFCToolBarButton::CopyFrom

Copia as propriedades de outro botão de barra de ferramentas para o botão atual.

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parâmetros

*src*<br/>
[em] Uma referência ao botão de origem a partir do qual copiar.

### <a name="remarks"></a>Comentários

Chame este método para copiar outro botão de barra de ferramentas para este botão de barra de ferramentas.

## <a name="cmfctoolbarbuttoncreatefromoledata"></a><a name="createfromoledata"></a>CMFCToolBarButton::CreateFromOleData

Cria `CMFCToolBarButton` um objeto a `COleDataObject` partir do objeto fornecido.

```
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```

### <a name="parameters"></a>Parâmetros

*Pdataobject*<br/>
[em] O objeto de dados OLE de origem.

### <a name="return-value"></a>Valor retornado

O objeto `CMFCToolBarButton` criado.

### <a name="remarks"></a>Comentários

Este método é usado pela estrutura para realizar a transferência de dados em vários formatos. Por exemplo, `CMFCOutlookBarPane::OnDragOver` o método usa esse método para executar operações de arrastar e soltar.

## <a name="cmfctoolbarbuttonenablewindow"></a><a name="enablewindow"></a>CMFCToolBarButton::Ativarjanela

Ativa ou desativa a entrada do mouse e do teclado.

```
virtual void EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Parâmetros

*Benable*<br/>
[em] Defina este parâmetro como TRUE para habilitar a entrada ou para FALSO para desativar a entrada.

### <a name="remarks"></a>Comentários

Este método `EnableWindow` chama a função para ativar ou desativar a entrada. Para obter mais informações, consulte [EnableWindow](/windows/win32/api/winuser/nf-winuser-enablewindow) no SDK do Windows.

## <a name="cmfctoolbarbuttonexporttomenubutton"></a><a name="exporttomenubutton"></a>CMFCToolBarbutton::ExportToMenuButton

Copia o texto do botão da barra de ferramentas para um menu.

```
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;
```

### <a name="parameters"></a>Parâmetros

*menuButton*<br/>
[em] Uma referência ao botão de menu de destino.

### <a name="return-value"></a>Valor retornado

Este método retorna TRUE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para copiar o texto de um botão de barra de ferramentas para um botão de menu. A implementação padrão copia o rótulo de texto do botão. Se o rótulo de texto estiver vazio, este método copiará o texto da dica de ferramenta do botão.

A implementação padrão deste método retorna TRUE. Anular este método se você quiser tomar ações adicionais quando a estrutura converter um objeto derivado do [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md) para um botão de menu.

## <a name="cmfctoolbarbuttongetclipboardformat"></a><a name="getclipboardformat"></a>CMFCToolBarButton::GetClipboardFormat

Recupera o formato global da área de transferência para o aplicativo.

```
static CLIPFORMAT __stdcall GetClipboardFormat();
```

### <a name="return-value"></a>Valor retornado

O valor clipformat global para a aplicação.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para recuperar o formato da área de transferência para operações de transferência de dados OLE. Por exemplo, o método [CMFCToolBarButton::CreateFromOleData](#createfromoledata) usa esse método para copiar dados de um objeto de dados OLE de origem.

Este método define o valor CLIPFORMAT global na primeira vez que este método é chamado. Todas as chamadas subseqüentes para este método retornam este valor.

Para permitir que ocorram operações de arrastar e soltar entre os aplicativos, chame o método [CMFCToolBarButton::SetClipboardFormatName.](#setclipboardformatname)

Para obter mais informações sobre áreas de transferência no MFC, consulte [Área de transferência](../../mfc/clipboard.md).

## <a name="cmfctoolbarbuttongethwnd"></a><a name="gethwnd"></a>CMFCToolBarButton::GetHwnd

Recupera a alça da janela associada ao botão da barra de ferramentas.

```
virtual HWND GetHwnd();
```

### <a name="return-value"></a>Valor retornado

A alça da janela associada ao botão da barra de ferramentas ou NULL se o botão da barra de ferramentas não tiver a alça da janela associada.

### <a name="remarks"></a>Comentários

A implementação padrão deste método retorna NULL. Anular este método para retornar a alça da janela do seu controle específico.

## <a name="cmfctoolbarbuttongetimage"></a><a name="getimage"></a>CMFCToolBarbutton::GetImage

Recupera o índice de imagem do botão.

```
int GetImage() const;
```

### <a name="return-value"></a>Valor retornado

O índice da imagem associada a este botão.

### <a name="remarks"></a>Comentários

Se o botão tiver uma imagem definida pelo usuário (isto é, se *bUserButton* foi TRUE no construtor), o índice retornado especifica uma imagem na coleção de imagens definidas pelo usuário (ver [CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). Caso contrário, o índice especifica uma imagem na coleção de imagens que são carregadas a partir de um arquivo de recursos (consulte [CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Para obter mais informações sobre arquivos de recursos, consulte [Trabalhando com arquivos de recursos](../../windows/working-with-resource-files.md).

## <a name="cmfctoolbarbuttongetinvalidaterect"></a><a name="getinvalidaterect"></a>CMFCToolBarButton::GetInvalidateRect

Recupera a região da área cliente do botão que deve ser redesenhada.

```
virtual const CRect GetInvalidateRect() const;
```

### <a name="return-value"></a>Valor retornado

Um `CRect` objeto que especifica a região que deve ser redesenhada.

### <a name="remarks"></a>Comentários

A implementação padrão deste método retorna toda a área do cliente. Anular este método se você quiser que uma área diferente seja redesenhada.

## <a name="cmfctoolbarbuttongetparentwnd"></a><a name="getparentwnd"></a>CMFCToolBarButton::GetParentWnd

Recupera a janela pai do botão.

```
CWnd* GetParentWnd() const;
```

### <a name="return-value"></a>Valor retornado

A janela dos pais do botão.

## <a name="cmfctoolbarbuttongetprotectedcommands"></a><a name="getprotectedcommands"></a>CMFCToolBarButton::GetProtectedCommands

Recupera a lista de comandos que o usuário não pode personalizar.

```
static const CList<UINT,UINT>& GetProtectedCommands();
```

### <a name="return-value"></a>Valor retornado

A lista de comandos protegidos.

### <a name="remarks"></a>Comentários

No modo de personalização, a estrutura desativa comandos de botão da barra de ferramentas protegidos. O usuário não pode executar operações de arrastar e soltar e editar em botões de barra de ferramentas desativados.

Use o método [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) para definir a lista de comandos protegidos.

## <a name="cmfctoolbarbuttongettextsize"></a><a name="gettextsize"></a>CMFCToolBarbutton::GetTextSize

Recupera o tamanho do texto do botão.

```
SIZE GetTextSize() const;
```

### <a name="return-value"></a>Valor retornado

Um objeto SIZE que contém o tamanho, em pixels, do texto do botão.

## <a name="cmfctoolbarbuttonhasfocus"></a><a name="hasfocus"></a>CMFCToolBarbutton::HasFocus

Determina se o botão tem o foco de entrada atual.

```
virtual BOOL HasFocus() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se o botão tiver o foco de entrada; caso contrário, 0.

### <a name="remarks"></a>Comentários

A implementação padrão deste método retorna não zero se o botão tiver o foco de entrada ou for uma janela de criança ou descendente da janela que tenha o foco de entrada. Você pode substituir essa função para personalizar esse comportamento.

## <a name="cmfctoolbarbuttonhavehotborder"></a><a name="havehotborder"></a>CMFCToolBarbutton::HaveHotBorder

Determina se uma borda do botão é exibida quando um usuário seleciona o botão.

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Valor retornado

Este método retorna TRUE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar se o botão da barra de ferramentas deve exibir sua borda quando um usuário o selecionar.

A implementação padrão retorna TRUE. Você pode substituir este método para personalizar esse comportamento.

## <a name="cmfctoolbarbuttonisdrawimage"></a><a name="isdrawimage"></a>BOTÃO CMFCToolBarButton::IsDrawImage

Determina se uma imagem é exibida no botão.

```
BOOL IsDrawImage() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se uma imagem for exibida no botão; caso contrário, 0.

### <a name="remarks"></a>Comentários

Este método retorna FALSO se o botão da barra de ferramentas não tiver imagem associada [(CMFCToolBarButton::GetImage](#getimage) retorna -1) ou se [CMFCToolBarButton::m_bImage](#m_bimage) está definido como FALSE.

## <a name="cmfctoolbarbuttonisdrawtext"></a><a name="isdrawtext"></a>BOTÃO CMFCToolBarButton::IsDrawText

Determina se um rótulo de texto é exibido no botão.

```
BOOL IsDrawText() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se um rótulo de texto for exibido; caso contrário, 0.

### <a name="remarks"></a>Comentários

Este método retorna FALSE se o botão da barra de ferramentas não tiver nenhum rótulo de texto associado [(CMFCToolBarButton::m_strText](#m_strtext) está vazio) ou [CMFCToolBarButton::m_bText](#m_btext) está definido como FALSE.

## <a name="cmfctoolbarbuttonisdroppeddown"></a><a name="isdroppeddown"></a>CMFCToolBarButton::IsDroppedDown

Determina se o botão exibe um submenu.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A implementação padrão deste método retorna FALSE. Anular este método para retornar TRUE se o controle exibir um submenu.

## <a name="cmfctoolbarbuttoniseditable"></a><a name="iseditable"></a>CMFCToolBarButton::IsEditável

Determina se o botão pode ser personalizado.

```
virtual BOOL IsEditable() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se um botão pode ser personalizado pelo usuário; caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar se o usuário pode personalizar o botão da barra de ferramentas usando operações de arrastar e soltar ou editar.

A implementação padrão retorna FALSE se o ID de comando do botão `IsStandardCommand` for um comando padrão (você pode determinar isso chamando a função) ou se o ID de comando estiver na lista de comandos protegidos. Para obter mais informações sobre comandos protegidos, consulte [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) e [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands).

Anular este método para personalizar seu comportamento.

## <a name="cmfctoolbarbuttonisextrasize"></a><a name="isextrasize"></a>CMFCToolbarbutton::isextrasize

Determina se o botão pode ser exibido com uma borda estendida.

```
virtual BOOL IsExtraSize() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se o botão da barra de ferramentas puder ser exibido com uma borda estendida; caso contrário, 0.

### <a name="remarks"></a>Comentários

Várias skins usam tamanho extra para as bordas dos botões da barra de ferramentas (por exemplo, botões redondos).

Se o usuário mover esse botão de uma barra de ferramentas para outra, a estrutura chamará o método [CMFCToolBarButton::OnChangeParentWnd.](#onchangeparentwnd) O método [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) define o sinalizador de tamanho extra para o da nova barra de ferramentas pai (para obter mais informações, consulte [CMFCToolBar::IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).

## <a name="cmfctoolbarbuttonisfirstingroup"></a><a name="isfirstingroup"></a>CMFCToolBarbutton::IsFirstInGroup

Determina se o botão está na primeira posição do grupo de botões.

```
virtual BOOL IsFirstInGroup() const;
```

### <a name="return-value"></a>Valor retornado

VERDADE se o botão for o primeiro botão em seu grupo de botões; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Este método define um grupo de *botões* como um conjunto vizinho de botões que estão posicionados na mesma linha e são limitados por separadores ou pela borda da barra de ferramentas. Este método retorna FALSE se o botão da barra de ferramentas se referir ao botão **Personalizar.** Para obter mais informações sobre o botão **Personalizar,** consulte [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Ligue para o [método CMFCToolBarButton::IsLastInGroup](#islastingroup) para determinar se o botão está na última posição do grupo de botões.

## <a name="cmfctoolbarbuttonishidden"></a><a name="ishidden"></a>CMFCToolBarbutton::IsHidden

Determina se o botão está oculto.

```
BOOL IsHidden() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se o botão estiver oculto (invisível); caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando a barra de ferramentas dos pais é esticada para determinar se o botão da barra de ferramentas está visível.

Se você definir o botão para ser invisível usando o [CMFCToolBarButton::SetVisible](#setvisible) method, use [CMFCToolBarButton::IsVisible](#isvisible) para determinar se o botão da barra de ferramentas está visível.

Por padrão, todos os botões da barra de ferramentas são visíveis. Use o [cmfcToolBarButton::Mostrar](#show) método para ocultar ou mostrar botões de barra de ferramentas.

## <a name="cmfctoolbarbuttonishorizontal"></a><a name="ishorizontal"></a>BOTÃO CMFCToolBar::IsHorizontal

Determina se o botão está localizado em uma barra de ferramentas horizontal.

```
BOOL IsHorizontal() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se um botão de barra de ferramentas estiver localizado em uma barra de ferramentas horizontal; caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama este método para determinar o layout dos botões da barra de ferramentas.

Este método `m_bHorz` retorna o membro de dados. O valor padrão `m_bHorz` do membro de dados é TRUE; é redefinido em cada chamada para o método [CMFCToolBarButton::OnDraw.](#ondraw)

## <a name="cmfctoolbarbuttonislastingroup"></a><a name="islastingroup"></a>BOTÃO CMFCToolBarbutton::IslastinGroup

Especifica se o botão está na última posição do grupo de botões.

```
virtual BOOL IsLastInGroup() const;
```

### <a name="return-value"></a>Valor retornado

VERDADE se o botão for o último botão do grupo de botões; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Este método define um grupo de *botões* como um conjunto vizinho de botões que estão posicionados na mesma linha e são limitados por separadores ou a borda da barra de ferramentas Este método retorna FALSO se o botão da barra de ferramentas não tiver barra de ferramentas pai ou o botão da barra de ferramentas se referir ao botão **Personalizar.** Para obter mais informações sobre o botão **Personalizar,** consulte [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Ligue para o [método CMFCToolBarButton::IsFirstInGroup](#isfirstingroup) para determinar se o botão está na primeira posição do grupo de botões.

## <a name="cmfctoolbarbuttonislocked"></a><a name="islocked"></a>CMFCToolBarbutton::islocked

Determina se o botão está em uma barra de ferramentas bloqueada (não personalizável).

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se o botão estiver em uma barra de ferramentas bloqueada; caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar se o usuário pode personalizar o botão da barra de ferramentas usando operações de arrastar e soltar ou editar. Defina o atributo bloqueado na barra de ferramentas pai usando o método [CMFCToolBar::LoadToolBar.](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) A estrutura passa o valor deste atributo para o construtor de cada botão de barra de ferramentas [(CMFCToolbarButton)](../../mfc/reference/cmfctoolbarbutton-class.md)que ele insere na barra de ferramentas pai.

## <a name="cmfctoolbarbuttonisownerof"></a><a name="isownerof"></a>CMFCToolbarbutton::Isownerof

Determina se o botão é o dono da alça da janela fornecida.

```
virtual BOOL IsOwnerOf(HWND hwnd);
```

### <a name="parameters"></a>Parâmetros

*Hwnd*<br/>
[em] Uma alça de janela.

### <a name="return-value"></a>Valor retornado

Não zero se o botão for o proprietário da alça da janela fornecida; caso contrário, 0.

### <a name="remarks"></a>Comentários

Este método retorna não zero se *hwnd* se refere à alça direta da janela ou é uma criança da alça da janela que está associada ao botão. Este método retorna 0 se *hwnd* for NULL.

## <a name="cmfctoolbarbuttonisvisible"></a><a name="isvisible"></a>BOTÃO CMFCToolBarButton::IsVisible

Determina se o botão da barra de ferramentas está visível.

```
BOOL IsVisible() const;
```

### <a name="return-value"></a>Valor retornado

Não zero se o botão da barra de ferramentas estiver visível; caso contrário, 0.

### <a name="remarks"></a>Comentários

Você pode mostrar ou ocultar o botão da barra de ferramentas usando o [método CMFCToolBarButton::SetVisible.](#setvisible) Ligue para o [CPane::AdjustSizeMétodo imediato](../../mfc/reference/cpane-class.md#adjustsizeimmediate) na barra de ferramentas pai depois de chamar [CMFCToolBarButton::SetVisible](#setvisible) para recalcular o layout de uma barra de ferramentas pai.

## <a name="cmfctoolbarbuttoniswindowvisible"></a><a name="iswindowvisible"></a>BOTÃO CMFCToolBarButton::IswindowVisible

Determina se a alça da janela subjacente do botão está visível.

```
virtual BOOL IsWindowVisible();
```

### <a name="return-value"></a>Valor retornado

Não zero se a alça da janela subjacente do botão estiver visível; caso contrário, 0.

### <a name="remarks"></a>Comentários

Este método retorna não zero se o atributo de estilos da alça de janela subjacente contiver o estilo WS_VISIBLE. Este método retorna FALSO se a alça da janela subjacente do botão for NULA.

## <a name="cmfctoolbarbuttonm_bimage"></a><a name="m_bimage"></a>CMFCToolBarButton::m_bImage

Especifica se uma imagem é exibida no botão.

```
BOOL m_bImage;
```

### <a name="remarks"></a>Comentários

Se este membro de dados estiver definido como TRUE, a estrutura exibirá a imagem associada ao botão barra de ferramentas; caso contrário, a estrutura não exibe a imagem. Esse membro afeta o valor de retorno do método [CMFCToolBarButton::m_bImage.](#m_bimage)

## <a name="cmfctoolbarbuttonm_btext"></a><a name="m_btext"></a>BOTÃO CMFCToolBar::m_bText

Especifica se um rótulo de texto é exibido no botão.

```
BOOL m_bText;
```

### <a name="remarks"></a>Comentários

Se este membro de dados estiver definido como TRUE, a estrutura exibirá o rótulo de texto do botão barra de ferramentas; caso contrário, a estrutura não exibe o rótulo de texto. Esse membro afeta o valor de retorno do método [CMFCToolBarButton::m_bText.](#m_btext)

## <a name="cmfctoolbarbuttonm_btextbelow"></a><a name="m_btextbelow"></a>CMFCToolBarButton::m_bTextBelow

Especifica se a etiqueta de texto é exibida abaixo da imagem no botão.

```
BOOL m_bTextBelow;
```

### <a name="remarks"></a>Comentários

Se esta variável de membro estiver definida como TRUE, a estrutura exibirá o texto do botão abaixo da imagem. O valor padrão deste membro é FALSO.

## <a name="cmfctoolbarbuttonm_buserbutton"></a><a name="m_buserbutton"></a>CMFCToolBarButton::m_bUserButton

Especifica se o botão tem uma imagem definida pelo usuário

```
BOOL m_bUserButton;
```

### <a name="remarks"></a>Comentários

Este membro de dados é definido como TRUE quando o botão tem uma imagem definida pelo usuário associada a ele.

## <a name="cmfctoolbarbuttonm_bwholetext"></a><a name="m_bwholetext"></a>CMFCToolBarButton::m_bWholeText

Especifica se o botão exibe seu rótulo de texto completo mesmo que não se encaixe no retângulo delimitador.

```
BOOL m_bWholeText;
```

### <a name="remarks"></a>Comentários

Se este membro de dados estiver definido como TRUE, a estrutura exibirá o rótulo de texto completo ampliando o botão. Caso contrário, a estrutura trunca e anexa uma elipse ( **...**) ao rótulo de texto.

## <a name="cmfctoolbarbuttonm_bwrap"></a><a name="m_bwrap"></a>CMFCToolBarButton::m_bWrap

Especifica se o botão ao lado de um separador será colocado na próxima linha.

```
BOOL m_bWrap;
```

### <a name="remarks"></a>Comentários

A estrutura define esse membro de dados como TRUE quando o botão da barra de ferramentas não se encaixa na linha atual ou quando você especifica um layout (por exemplo, um número específico de botões de barra de ferramentas por linha).

A estrutura coloca este botão na próxima linha se este membro de dados estiver definido como TRUE e a barra de ferramentas estiver encaixada horizontalmente ou flutuando.

O valor padrão deste membro de dados é FALSO.

## <a name="cmfctoolbarbuttonm_bwraptext"></a><a name="m_bwraptext"></a>CMFCToolBarButton::m_bWrapText

Especifica se os rótulos de texto multi-linha estão habilitados.

```
AFX_IMPORT_DATA static BOOL m_bWrapText;
```

### <a name="remarks"></a>Comentários

Se essa variável de membro estático for TRUE, a estrutura permite que todas as barras de ferramentas exibam etiquetas de texto de várias linhas nos botões da barra de ferramentas.

O valor padrão deste membro de dados é FALSO.

## <a name="cmfctoolbarbuttonm_nid"></a><a name="m_nid"></a>CMFCToolBarButton::m_nID

O id de comando do botão.

```
UINT m_nID;
```

### <a name="remarks"></a>Comentários

Um ID de comando de -1 indica que o botão é um separador. Todos os separadores de botões têm o estilo TBBS_SEPARATOR. Consulte [CMFCToolBarButton::m_nStyle](#m_nstyle) para obter mais informações sobre os estilos dos botões.

## <a name="cmfctoolbarbuttonm_nstyle"></a><a name="m_nstyle"></a>BOTÃO CMFCToolBar::m_nStyle

O estilo do botão.

```
UINT m_nStyle;
```

### <a name="remarks"></a>Comentários

Consulte [Os estilos de controle](../../mfc/reference/toolbar-control-styles.md) da barra de ferramentas para a lista dos estilos de botão disponíveis da barra de ferramentas.

## <a name="cmfctoolbarbuttonm_strtext"></a><a name="m_strtext"></a>CMFCToolBarButton::m_strText

O rótulo de texto do botão.

```
CString m_strText;
```

### <a name="remarks"></a>Comentários

Este membro de dados contém o rótulo de texto do botão. A etiqueta de texto pode estar vazia.

## <a name="cmfctoolbarbuttonnotifycommand"></a><a name="notifycommand"></a>CMFCToolBarButton::Notificarcomando

Especifica se o botão processa a [mensagem WM_COMMAND.](/windows/win32/menurc/wm-command)

```
virtual BOOL NotifyCommand(int iNotifyCode);
```

### <a name="parameters"></a>Parâmetros

*iNotifyCode*<br/>
[em] A mensagem de notificação que está associada ao comando.

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando ele está prestes a enviar uma mensagem [WM_COMMAND](/windows/win32/menurc/wm-command) para a janela pai.

Por padrão, este método retorna FALSE. Anular este método para retornar TRUE se você quiser processar a mensagem WM_COMMAND ou FALSE para indicar que a barra de ferramentas pai deve lidar com a mensagem.

## <a name="cmfctoolbarbuttononaddtocustomizepage"></a><a name="onaddtocustomizepage"></a>CMFCToolBarbutton::Onaddtocustompage

Chamado pela estrutura quando o botão é adicionado a uma caixa de diálogo **Personalizar.**

```
virtual void OnAddToCustomizePage();
```

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada. Anular este método se você quiser executar alguma ação quando o botão é adicionado a uma caixa de diálogo **Personalizar.**

## <a name="cmfctoolbarbuttononbeforedrag"></a><a name="onbeforedrag"></a>BOTÃO CMFCToolBarButton::OnbeforeDrag

Especifica se o botão pode ser arrastado.

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o botão pode ser arrastado; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama esse método antes que o usuário comece a arrastar o botão.

A implementação padrão deste método retorna TRUE. Anular este método para retornar FALSE para desativar o arrasto do botão.

## <a name="cmfctoolbarbuttononbeforedrop"></a><a name="onbeforedrop"></a>BOTÃO CMFCToolBarButton::OnbeforeDrop

Especifica se um usuário pode soltar o botão na barra de ferramentas de destino.

```
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```

### <a name="parameters"></a>Parâmetros

*Ptarget*<br/>
[em] O alvo da operação de arrastar e soltar.

### <a name="return-value"></a>Valor retornado

TRUE se o botão puder ser lançado na barra de ferramentas de destino fornecida; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama esse método antes que o botão seja lançado em uma barra de ferramentas.

A implementação padrão deste método retorna TRUE. Anular este método para retornar FALSE para desativar a operação de queda no alvo especificado.

## <a name="cmfctoolbarbuttononcalculatesize"></a><a name="oncalculatesize"></a>CMFCToolBarbutton::OnCalculateSize

Chamado pela estrutura para calcular o tamanho do botão para o contexto do dispositivo especificado e o estado de acoplamento.

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
[em] O contexto do dispositivo que exibe o botão.

*tamanhoPadrão*<br/>
[em] O tamanho padrão do botão.

*Bhorz*<br/>
[em] O estado das docas da barra de ferramentas dos pais. Este parâmetro é VERDADEIRO se a barra de ferramentas estiver ancorada horizontalmente ou estiver flutuando, ou FALSA se a barra de ferramentas estiver encaixada verticalmente.

### <a name="return-value"></a>Valor retornado

Uma `SIZE` estrutura que contém as dimensões do botão, em pixels.

### <a name="remarks"></a>Comentários

A estrutura chama este método para determinar o tamanho do botão da barra de ferramentas para o contexto do dispositivo especificado e o estado de doca.

A implementação padrão considera os tamanhos de texto e imagem (se forem exibidos), as posições de texto e imagem (o texto abaixo ou no lado direito da imagem) e o estado de dock da barra de ferramentas.

Anular este método se você quiser fornecer o tamanho de um botão não padrão (por exemplo, um botão de caixa de edição).

## <a name="cmfctoolbarbuttononcancelmode"></a><a name="oncancelmode"></a>BOTÃO CMFCToolBar::OnCancelMode

Chamado pelo quadro para lidar com a [mensagem WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada. Anule este método se quiser lidar com a mensagem [WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)

## <a name="cmfctoolbarbuttononchangeparentwnd"></a><a name="onchangeparentwnd"></a>CMFCToolBarButton::OnChangeParentWnd

Chamado pela estrutura quando o botão é inserido em uma nova barra de ferramentas.

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parâmetros

*pWndParent*<br/>
[em] A nova janela dos pais.

### <a name="remarks"></a>Comentários

O botão é inserido em uma barra de ferramentas, por exemplo, quando o usuário o arrasta de uma barra de ferramentas para outra barra de ferramentas.

A implementação padrão deste método não faz nada.

## <a name="cmfctoolbarbuttononclick"></a><a name="onclick"></a>CMFCToolBarbutton::OnClick

Chamado pela estrutura quando o usuário clica no botão do mouse.

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay=TRUE);
```

### <a name="parameters"></a>Parâmetros

*Pwnd*<br/>
[em] A janela pai do botão da barra de ferramentas.

*bAtraso*<br/>
[em] VERDADE se a mensagem deve ser tratada com um atraso.

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando o usuário clica no botão barra de ferramentas.

A implementação padrão não faz nada e retorna FALSE. Substituir este método para retornar um valor não zero se o botão processa a mensagem de clique.

## <a name="cmfctoolbarbuttononclickup"></a><a name="onclickup"></a>CMFCToolbarbutton::OnClickUp

Chamado pela estrutura quando o usuário libera o botão do mouse.

```
virtual BOOL OnClickUp();
```

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando o usuário libera o botão da barra de ferramentas.

A implementação padrão não faz nada e retorna FALSE. Substituir este método para retornar um valor não zero se o botão processa a mensagem de clique.

## <a name="cmfctoolbarbuttononcontexthelp"></a><a name="oncontexthelp"></a>CMFCToolBarbutton::OnContextHelp

Chamado pela framework quando a barra de ferramentas dos pais lida com uma mensagem WM_HELPHITTEST.

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parâmetros

*Pwnd*<br/>
[em] A janela pai do botão da barra de ferramentas.

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada e retorna FALSE. Substituir este método para retornar um valor não zero se o botão processa a mensagem de ajuda.

Para obter mais informações sobre a mensagem WM_HELPHITTEST, consulte [TN028: Suporte de ajuda sensível ao contexto](../../mfc/tn028-context-sensitive-help-support.md).

## <a name="cmfctoolbarbuttononctlcolor"></a><a name="onctlcolor"></a>CMFCToolBarButton::OnCtlColor

Chamado pela estrutura quando a barra de ferramentas dos pais lida com uma mensagem WM_CTLCOLOR.

```
virtual HBRUSH OnCtlColor(
    CDC* pDC,
    UINT nCtlColor);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
[em] O contexto do dispositivo que exibe o botão.

*nCtlColor*<br/>
[em] A notificação de cores específica.

### <a name="return-value"></a>Valor retornado

Uma alça para o objeto de escova que a estrutura usa para pintar o fundo do botão.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando a barra de ferramentas pai processa a mensagem WM_CTLCOLOR para um botão de barra de ferramentas que contém um controle do Windows. A estrutura não chama esse método se o botão da barra de ferramentas estiver sem janelas.

A estrutura chama esse método quando a estrutura da barra de ferramentas está no modo de personalização e o botão da barra de ferramentas é desbloqueado. Para obter mais informações sobre o modo de personalização, consulte [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Para obter mais informações sobre o bloqueio de botões da barra de ferramentas, consulte [CMFCToolBarButton::IsLocked](#islocked).

A implementação padrão não faz nada e retorna NULL.

## <a name="cmfctoolbarbuttononcustomizemenu"></a><a name="oncustomizemenu"></a>CMFCToolBarbutton::OnPersonalizeMenu

Permite que o botão modifique o menu fornecido quando o aplicativo exibe um menu de atalho na barra de ferramentas pai.

```
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Parâmetros

*pMenu*<br/>
[em] O menu para personalizar.

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A implementação padrão não faz nada e retorna FALSE. Anular este método e retornar um valor não zero se você quiser modificar o conteúdo do menu fornecido.

## <a name="cmfctoolbarbuttonondblclk"></a><a name="ondblclk"></a>CMFCToolBarButton::OnDblClk

Chamado pela framework quando a barra de ferramentas dos pais lida com uma [mensagem WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)

```
virtual void OnDblClk(CWnd* pWnd);
```

### <a name="parameters"></a>Parâmetros

*Pwnd*<br/>
A janela dos pais do botão.

### <a name="remarks"></a>Comentários

Este método é `CMFCToolBar::OnLButtonDblClk` chamado pelo método quando a barra de ferramentas pai lida com uma [mensagem WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)

A implementação padrão deste método não faz nada.

## <a name="cmfctoolbarbuttonondraw"></a><a name="ondraw"></a>CMFCToolBarbutton::OnDraw

Chamado pela estrutura para desenhar o botão usando os estilos e opções especificados.

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz=TRUE,
    BOOL bCustomizeMode=FALSE,
    BOOL bHighlight=FALSE,
    BOOL bDrawBorder=TRUE,
    BOOL bGrayDisabledButtons=TRUE);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
[em] O contexto do dispositivo que exibe o botão.

*Rect*<br/>
[em] O retângulo delimitador do botão.

*pImagens*<br/>
[em] A coleção de imagens da barra de ferramentas que está associada ao botão.

*Bhorz*<br/>
[em] O estado das docas da barra de ferramentas dos pais. Este parâmetro é VERDADEIRO quando o botão é encaixado horizontalmente e FALSO quando o botão está encaixado verticalmente.

*bPersonalizeMode*<br/>
[em] Especifica se a barra de ferramentas está no modo de personalização. Este parâmetro é VERDADEIRO quando a barra de ferramentas está no modo de personalização e FALSE quando a barra de ferramentas não está no modo de personalização.

*bDestaque*<br/>
[em] Especifica se o botão está destacado. Este parâmetro é VERDADEIRO quando o botão é destacado e FALSO quando o botão não é destacado.

*bDrawBorder*<br/>
[em] Especifica se o botão deve exibir sua borda. Este parâmetro é VERDADEIRO quando o botão deve exibir sua borda e FALSE quando o botão não deve exibir sua borda.

*bGrayDisabledButtons*<br/>
[em] Especifica se é para sombrear botões desativados ou usar a coleção de imagens desativadas. Este parâmetro é VERDADEIRO quando os botões desativados devem ser sombreados e FALSOs quando este método deve usar a coleção de imagens desativadas.

### <a name="remarks"></a>Comentários

Anular este método para personalizar o desenho do botão da barra de ferramentas.

## <a name="cmfctoolbarbuttonondrawoncustomizelist"></a><a name="ondrawoncustomizelist"></a>CMFCToolBarbutton::OnDrawOnPersonalizelist

Chamado pela estrutura para desenhar o botão no painel **Comandos** da caixa de diálogo **Personalizar.**

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
[em] O contexto do dispositivo que exibe o botão.

*Rect*<br/>
[em] O retângulo delimitador do botão.

*bSelecionado*<br/>
[em] Especifica se o botão está selecionado. Se este parâmetro for TRUE, o botão será selecionado. Se este parâmetro for FALSO, o botão não será selecionado.

### <a name="return-value"></a>Valor retornado

A largura, em pixels, do botão no contexto especificado do dispositivo.

### <a name="remarks"></a>Comentários

Esse método é chamado pela caixa de diálogo de personalização (guia **Comandos)** quando o botão está prestes a se exibir na caixa de lista de sorteio do proprietário.

A implementação padrão deste método exibe o rótulo de imagem e texto do botão se estiverem disponíveis. Se o rótulo de texto do botão não estiver disponível, o método exibirá o texto da dica de ferramenta.

Anular este método para executar o desenho personalizado.

## <a name="cmfctoolbarbuttonongetcustomtooltiptext"></a><a name="ongetcustomtooltiptext"></a>CMFCToolBarbutton::OnGetCustomToolTipText

Chamado pela estrutura para recuperar o texto de dica de ferramenta personalizada para o botão.

```
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```

### <a name="parameters"></a>Parâmetros

*dica de strTool*<br/>
[fora] Um `CString` objeto que recebe o texto de dica de ferramenta personalizado.

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama este método quando exibe a dica de ferramenta para o botão da barra de ferramentas. Se este método retornar FALSE, a estrutura usará uma dica de ferramenta padrão.

A implementação padrão não faz nada e retorna FALSE. Anular este método e retornar um valor não zero para fornecer texto de dica de ferramenta personalizado para o botão da barra de ferramentas.

## <a name="cmfctoolbarbuttononglobalfontschanged"></a><a name="onglobalfontschanged"></a>CMFCToolBarButton::OnGlobalFontsChanged

Chamado pelo framework quando a fonte global foi alterada.

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada. Anular este método para atualizar a fonte usada para exibir o texto do botão.

## <a name="cmfctoolbarbuttononmove"></a><a name="onmove"></a>CMFCToolBarbutton::OnMove

Chamada pela estrutura quando a barra de ferramentas dos pais se move.

```
virtual void OnMove();
```

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada. Anular este método para reposicionar o botão quando a barra de ferramentas dos pais se mover.

## <a name="cmfctoolbarbuttononshow"></a><a name="onshow"></a>CMFCToolBarbutton::OnShow

Chamado pela estrutura quando o botão se torna visível ou invisível.

```
virtual void OnShow(BOOL bShow);
```

### <a name="parameters"></a>Parâmetros

*Bshow*<br/>
[em] Especifica se o botão está visível. Se este parâmetro for TRUE, o botão será visível. Caso contrário, o botão não é visível.

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada. Anular este método para atualizar a visibilidade do botão.

## <a name="cmfctoolbarbuttononsize"></a><a name="onsize"></a>BOTÃO CMFCToolBarButton::OnSize

Chamada pela estrutura quando a barra de ferramentas pai muda seu tamanho ou posição e essa alteração faz com que o botão mude de tamanho.

```
virtual void OnSize(int iSize);
```

### <a name="parameters"></a>Parâmetros

*iSize*<br/>
[em] A nova largura do botão.

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada. Substituir este método para redimensionar o botão quando o tamanho ou posição da barra de ferramentas pai mudar.

## <a name="cmfctoolbarbuttonontoolhittest"></a><a name="ontoolhittest"></a>CMFCToolBarbutton::OntoolHitTest

Chamado pela estrutura quando a barra de ferramentas pai deve determinar se um ponto está no retângulo delimitador do botão.

```
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>Parâmetros

*Pwnd*<br/>
[em] A janela dos pais do botão. Pode ser NULL.

*Pti*<br/>
[em] Uma `TOOLINFO` estrutura que contém informações sobre uma ferramenta em um controle de ponta de ferramenta.

### <a name="return-value"></a>Valor retornado

O resultado `OnMenuButtonToolHitTest` de se o botão pode recuperar um ponteiro para a janela do quadro pai; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Este método chama um dos seguintes métodos se ele pode converter a janela pai em um objeto de quadro válido:

- [CMDIFrameWndEx:OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)

- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)

- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)

## <a name="cmfctoolbarbuttononupdatetooltip"></a><a name="onupdatetooltip"></a>CMFCToolBarButton::OnUpdateToolTip

Chamada pela framework quando a barra de ferramentas pai atualiza seu texto de dica de ferramenta.

```
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,
    int iButtonIndex,
    CToolTipCtrl& wndToolTip,
    CString& str);
```

### <a name="parameters"></a>Parâmetros

*pWndParent*<br/>
[em] A janela dos pais.

*iButtonIndex*<br/>
[em] O índice baseado em zero do botão na coleção de botões pai.

*wndToolTip*<br/>
[em] O controle que exibe o texto da dica de ferramenta.

*Str*<br/>
[fora] Um `CString` objeto que recebe o texto atualizado da dica de ferramenta.

### <a name="return-value"></a>Valor retornado

Este método retorna FALSO.

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada e retorna FALSE. Anular este método para retornar um valor não zero se você fornecer uma seqüência de texto de ponta de ferramenta.

## <a name="cmfctoolbarbuttonpreparedrag"></a><a name="preparedrag"></a>CMFCToolBarButton::PrepareDrag

Chamado pela estrutura quando o botão está prestes a executar uma operação de arrastar e soltar.

```
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```

### <a name="parameters"></a>Parâmetros

*srcItem*<br/>
[em] Um `COleDataSource` objeto que armazena informações estaduais sobre a operação de arrastar e soltar.

### <a name="return-value"></a>Valor retornado

VERDADE se a operação for bem sucedida; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

A estrutura chama este método para preparar o botão da `COleDataSource` barra de ferramentas para armazenar seu estado no objeto fornecido. Este método armazena seu estado serializando-se para um arquivo compartilhado e, em seguida, passando esse arquivo para o método [COleDataSource::CacheGlobalData.](../../mfc/reference/coledatasource-class.md#cacheglobaldata) Para obter mais informações sobre a serialização do botão da barra de ferramentas, consulte [CMFCToolBarButton::Serialize](#serialize).

Este método não faz nada e retorna TRUE se o botão não puder ser armazenado (o [método CMFCToolBarButton::CanBeStored](#canbestored) retorna FALSE). Ele retorna FALSO se ocorrer uma exceção durante a serialização de objetos.

Para obter mais informações sobre operações de arrastar e soltar o Le, consulte [OLE arrastar e soltar](../../mfc/drag-and-drop-ole.md).

## <a name="cmfctoolbarbuttonrect"></a><a name="rect"></a>CMFCToolBarButton::Rect

Recupera o retângulo delimitador do botão.

```
const CRect& Rect() const;
```

### <a name="return-value"></a>Valor retornado

Um `CRect` objeto que contém o retângulo delimitador de um botão.

## <a name="cmfctoolbarbuttonresetimagetodefault"></a><a name="resetimagetodefault"></a>CMFCToolBarButton::ResetImageToDefault

Define para o valor padrão a imagem associada ao botão.

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Comentários

Este método recupera a imagem padrão de sua barra de ferramentas pai usando o método [CMFCToolBar::GetDefaultImage.](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) Se o botão não tiver uma imagem padrão associada, este método definirá o rótulo de texto do botão de acordo com seu recurso de string usando o método [CStringT::LoadString.](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) Para obter mais informações sobre recursos de string, consulte [Trabalhando com arquivos de recursos](../../windows/working-with-resource-files.md).

Este método não faz nada se o botão tiver uma imagem definida pelo usuário.

## <a name="cmfctoolbarbuttonsavebarstate"></a><a name="savebarstate"></a>CMFCToolBarbutton::SaveBarState

Salva o estado do botão da barra de ferramentas.

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Comentários

A estrutura chama esse método `CMFCToolBarButton` quando cria um objeto como resultado de uma operação de arrastar e soltar.

A implementação padrão deste método não faz nada. Substituir este método para salvar o estado do botão da barra de ferramentas a uma fonte de dados externa.

## <a name="cmfctoolbarbuttonserialize"></a><a name="serialize"></a>CMFCToolBarButton::Serialize

Lê este objeto de um arquivo ou grava-o em um arquivo.

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parâmetros

*ar*<br/>
[em] O `CArchive` objeto a partir do qual ou para o qual serializar.

### <a name="remarks"></a>Comentários

Este método suporta processos de transferência de dados, como operações de área de transferência ou de arrastar e soltar. Ele lê ou grava propriedades do botão, como o ID, o rótulo de `CArchive` texto e o ID da imagem a partir ou para o objeto fornecido.

Para exemplos de serialização, consulte [Serialização: Serializando um objeto](../../mfc/serialization-serializing-an-object.md).

## <a name="cmfctoolbarbuttonsetaccdata"></a><a name="setaccdata"></a>CMFCToolBarButton::setACCData

Preenche o objeto `CAccessibilityData` fornecido com dados de acessibilidade do botão barra de ferramentas.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parâmetros

*pParent*<br/>
[em] A janela pai do botão da barra de ferramentas.

*dados*<br/>
[em] Um `CAccessibilityData` objeto preenchido com os dados de acessibilidade do botão barra de ferramentas.

### <a name="return-value"></a>Valor retornado

Este método retorna TRUE.

### <a name="remarks"></a>Comentários

Anular este método para retornar FALSO se o botão da barra de ferramentas não fornecer dados de acessibilidade.

## <a name="cmfctoolbarbuttonsetclipboardformatname"></a><a name="setclipboardformatname"></a>CMFCToolBarButton::SetClipboardFormatName

Renomeia o formato global da área de transferência.

```
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```

### <a name="parameters"></a>Parâmetros

*lpszName*<br/>
[em] O novo nome do formato global da área de transferência. Não pode ser NULL.

### <a name="remarks"></a>Comentários

Esse método permite que operações de arrastar e soltar ocorram entre vários aplicativos. Cada aplicativo deve fornecer o mesmo nome de formato de área de transferência.

Você deve chamar este método antes que a estrutura chame [CMFCToolBarButton::GetClipboardFormat](#getclipboardformat).

## <a name="cmfctoolbarbuttonsetimage"></a><a name="setimage"></a>CMFCToolBarButton::setImage

Define o índice de imagem do botão.

```
virtual void SetImage(int iImage);
```

### <a name="parameters"></a>Parâmetros

*Iimage*<br/>
[em] O índice da imagem na coleção de imagens da barra de ferramentas.

### <a name="remarks"></a>Comentários

Se o botão da barra de ferramentas for um separador, *o iImage* refere-se à nova largura do botão separador.

Se *o iImage* for menor que zero, este método desativará o desenho da imagem e habilita o desenho da etiqueta de texto do botão.

## <a name="cmfctoolbarbuttonsetprotectedcommands"></a><a name="setprotectedcommands"></a>CMFCToolBarButton::SetProtectedCommands

Define a lista de comandos que o usuário não pode personalizar.

```
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```

### <a name="parameters"></a>Parâmetros

*CMDS*<br/>
[em] A lista de comandos protegidos.

### <a name="remarks"></a>Comentários

No modo de personalização, a estrutura desativa comandos de botão da barra de ferramentas protegidos. O usuário não pode executar operações de arrastar e soltar e editar em botões de barra de ferramentas desativados.

Use o método [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) para recuperar a lista de comandos protegidos.

## <a name="cmfctoolbarbuttonsetradio"></a><a name="setradio"></a>CMFCToolBarButton::setRadio

Chamado pelo framework quando um botão altera seu estado verificado.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Comentários

A implementação padrão deste método não faz nada. Anular este método para executar uma ação personalizada quando o botão altera seu estado verificado.

## <a name="cmfctoolbarbuttonsetrect"></a><a name="setrect"></a>CMFCToolBarButton::SetRect

Define o retângulo delimitador do botão.

```
void SetRect(const CRect rect);
```

### <a name="parameters"></a>Parâmetros

*Rect*<br/>
[em] O novo retângulo delimitador do botão.

### <a name="remarks"></a>Comentários

Este método chama o método [CMFCToolBarButton::OnMove](#onmove) depois de definir o novo retângulo delimitador.

## <a name="cmfctoolbarbuttonsetstyle"></a><a name="setstyle"></a>CMFCToolBarButton::setStyle

Define o estilo do botão.

```
virtual void SetStyle(UINT nStyle);
```

### <a name="parameters"></a>Parâmetros

*nStyle*<br/>
[em] O novo estilo do botão.

### <a name="remarks"></a>Comentários

A implementação padrão define o [CMFCToolBarButton::m_nStyle](#m_nstyle) membro de dados para *nStyle*. Anular este método se você quiser realizar processamento adicional para lidar com a mudança de estilo. Consulte [Estilos de controle da barra de](toolbar-control-styles.md) ferramentas para obter uma lista de sinalizadores de estilo válidos.

## <a name="cmfctoolbarbuttonsetvisible"></a><a name="setvisible"></a>CMFCToolBarButton::setVisible

Especifica se o botão está visível.

```
void SetVisible(BOOL bShow=TRUE);
```

### <a name="parameters"></a>Parâmetros

*Bshow*<br/>
[em] Um valor booleano que especifica se é para mostrar ou ocultar o botão. Se este parâmetro for VERDADEIRO, o botão será mostrado. Se o parâmetro for FALSO, o botão está oculto.

### <a name="remarks"></a>Comentários

Use esta função para ocultar ou mostrar um botão de barra de ferramentas específico. Ligue para o [CPane::AdjustSizeMétodoimediato](../../mfc/reference/cpane-class.md#adjustsizeimmediate) após chamar este método.

## <a name="cmfctoolbarbuttonshow"></a><a name="show"></a>CMFCToolBarbutton::Show

Mostra ou esconde o botão.

```
void Show(BOOL bShow);
```

### <a name="parameters"></a>Parâmetros

*Bshow*<br/>
[em] Um valor booleano que especifica se é para mostrar ou ocultar o botão. Se este parâmetro for VERDADEIRO, o botão será mostrado. Se o parâmetro for FALSO, o botão está oculto.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para atualizar a visibilidade dos botões da barra de ferramentas quando a barra de ferramentas dos pais é redimensionada. A estrutura chama esse método de *bShow* definido como FALSE quando o botão não se encaixa mais nos limites da barra de ferramentas. A estrutura chama esse método de *bShow* definido como TRUE quando depois de redimensionar o botão se encaixa novamente nos limites da barra de ferramentas.

Use o [CMFCToolBarButton::SetVisible](#setvisible) method para definir a visibilidade geral do botão.

Este método chama o método [CMFCToolBarButton::OnShow](#onshow) depois de atualizar o estado de visibilidade do botão.

## <a name="see-also"></a>Confira também

[Gráfico da hierarquia](../../mfc/hierarchy-chart.md)<br/>
[Classes](../../mfc/reference/mfc-classes.md)<br/>
[Classe CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)<br/>
[Classe CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md)
