---
title: Classe CMFCToolBarButton
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
ms.openlocfilehash: cfdde6aea42ff96957c18ef73f62a4e4f49292ff
ms.sourcegitcommit: a8ef52ff4a4944a1a257bdaba1a3331607fb8d0f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/11/2020
ms.locfileid: "77127438"
---
# <a name="cmfctoolbarbutton-class"></a>Classe CMFCToolBarButton

Fornece a funcionalidade de botão para barras de ferramentas.

## <a name="syntax"></a>Sintaxe

```
class CMFCToolBarButton : public CObject
```

## <a name="members"></a>Membros

### <a name="public-constructors"></a>Construtores públicos

|{1&gt;Nome&lt;1}|Descrição|
|----------|-----------------|
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Constrói e inicializa um objeto `CMFCToolBarButton`.|
|`CMFCToolBarButton::~CMFCToolBarButton`|Destruidor.|

### <a name="public-methods"></a>Métodos públicos

|{1&gt;Nome&lt;1}|Descrição|
|----------|-----------------|
|[CMFCToolBarButton::CanBeDropped](#canbedropped)|Especifica se um usuário pode posicionar um botão em uma barra de ferramentas ou em um menu durante a personalização.|
|[CMFCToolBarButton::CanBeStored](#canbestored)|Especifica se o botão pode ser armazenado.|
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|Especifica se um usuário pode alongar o botão durante a personalização.|
|[CMFCToolBarButton::CompareWith](#comparewith)|Compara essa instância com o objeto de `CMFCToolBarButton` fornecido.|
|[CMFCToolBarButton::CopyFrom](#copyfrom)|Copia as propriedades de outro botão da barra de ferramentas para o botão atual.|
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Cria um objeto `CMFCToolBarButton` do objeto `COleDataObject` fornecido.|
|`CMFCToolBarButton::CreateObject`|Usado pela estrutura para criar uma instância dinâmica desse tipo de classe.|
|[CMFCToolBarButton::EnableWindow](#enablewindow)|Habilita ou desabilita a entrada do mouse e do teclado.|
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|Copia o texto do botão da barra de ferramentas para um menu.|
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Recupera o formato de área de transferência global para o aplicativo.|
|[CMFCToolBarButton:: GetHwnd](#gethwnd)|Recupera o identificador de janela que está associado ao botão da barra de ferramentas.|
|[CMFCToolBarButton:: GetImage](#getimage)|Recupera o índice de imagem do botão.|
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Recupera a região da área do cliente do botão que deve ser redesenhado.|
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Recupera a janela pai do botão.|
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Recupera a lista de comandos que o usuário não pode personalizar.|
|[CMFCToolBarButton:: gettextize](#gettextsize)|Recupera o tamanho do texto do botão.|
|[CMFCToolBarButton::HasFocus](#hasfocus)|Determina se o botão tem o foco de entrada atual.|
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|Determina se uma borda do botão é exibida quando um usuário seleciona o botão.|
|[CMFCToolBarButton:: isdrawimage](#isdrawimage)|Determina se uma imagem é exibida no botão.|
|[CMFCToolBarButton:: isdrawtext](#isdrawtext)|Determina se um rótulo de texto é exibido no botão.|
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Determina se o botão exibe um submenu.|
|[CMFCToolBarButton:: iseditável](#iseditable)|Determina se o botão pode ser personalizado.|
|[CMFCToolBarButton::IsExtraSize](#isextrasize)|Determina se o botão pode ser exibido com uma borda estendida.|
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|Determina se o botão está na primeira posição em seu grupo de botões.|
|[CMFCToolBarButton:: IsHidden](#ishidden)|Determina se o botão está oculto.|
|[CMFCToolBarButton:: IsHorizontal](#ishorizontal)|Determina se o botão está localizado em uma barra de ferramentas horizontal.|
|[CMFCToolBarButton::IsLastInGroup](#islastingroup)|Especifica se o botão está na última posição em seu grupo de botões.|
|[CMFCToolBarButton:: IsLocked](#islocked)|Determina se o botão está em uma barra de ferramentas bloqueada (não personalizável).|
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|Determina se o botão é o proprietário do identificador de janela fornecido.|
|[CMFCToolBarButton:: IsVisible](#isvisible)|Determina se o botão da barra de ferramentas está visível.|
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|Determina se o identificador de janela subjacente do botão está visível.|
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|Especifica se o botão processa a mensagem de [WM_COMMAND](/windows/win32/menurc/wm-command) .|
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|Chamado pelo Framework quando o botão é adicionado a uma caixa de diálogo **Personalizar** .|
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|Especifica se o botão pode ser arrastado.|
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|Especifica se um usuário pode soltar o botão na barra de ferramentas de destino.|
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|Chamado pelo Framework para calcular o tamanho do botão para o contexto do dispositivo especificado e o estado de encaixe.|
|[CMFCToolBarButton:: OnCancelMode](#oncancelmode)|Chamado pelo Framework para manipular a mensagem de [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) .|
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Chamado pelo Framework quando o botão é inserido em uma nova barra de ferramentas.|
|[CMFCToolBarButton:: OnClick](#onclick)|Chamado pelo Framework quando o usuário clica no botão do mouse.|
|[CMFCToolBarButton::OnClickUp](#onclickup)|Chamado pelo Framework quando o usuário libera o botão do mouse.|
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|Chamado pelo Framework quando a barra de ferramentas pai manipula uma mensagem de WM_HELPHITTEST.|
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Chamado pelo Framework quando a barra de ferramentas pai manipula uma mensagem de WM_CTLCOLOR.|
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|Permite que o botão modifique o menu fornecido quando o aplicativo exibe um menu de atalho na barra de ferramentas pai.|
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Chamado pelo Framework quando a barra de ferramentas pai manipula uma mensagem de [WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk) .|
|[CMFCToolBarButton:: OnDraw](#ondraw)|Chamado pelo Framework para desenhar o botão usando os estilos e as opções especificadas.|
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Chamado pelo Framework para desenhar o botão no painel **comandos** da caixa de diálogo **Personalizar** .|
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Chamado pelo Framework para recuperar o texto de dica de ferramenta personalizado para o botão.|
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Chamado pelo Framework quando a fonte global é alterada.|
|[CMFCToolBarButton:: OnMove](#onmove)|Chamado pelo Framework quando a barra de ferramentas pai é movida.|
|[CMFCToolBarButton:: OnShow](#onshow)|Chamado pelo Framework quando o botão fica visível ou invisível.|
|[CMFCToolBarButton:: OnSize](#onsize)|Chamado pelo Framework quando a barra de ferramentas pai altera seu tamanho ou posição e essa alteração requer que o botão altere o tamanho.|
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|Chamado pelo Framework quando a barra de ferramentas pai deve determinar se um ponto está no retângulo delimitador do botão.|
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Chamado pelo Framework quando a barra de ferramentas pai atualiza seu texto de dica de ferramenta.|
|[CMFCToolBarButton::P repareDrag](#preparedrag)|Chamado pelo Framework quando o botão está prestes a executar uma operação de arrastar e soltar.|
|[CMFCToolBarButton:: RECT](#rect)|Recupera o retângulo delimitador do botão.|
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Define como o valor padrão a imagem que está associada ao botão.|
|[CMFCToolBarButton::SaveBarState](#savebarstate)|Salva o estado do botão da barra de ferramentas.|
|[CMFCToolBarButton:: Serialize](#serialize)|Lê este objeto de um arquivo ou grava-o em um arquivo morto. (Substitui [CObject:: Serialize](../../mfc/reference/cobject-class.md#serialize).)|
|[CMFCToolBarButton::SetACCData](#setaccdata)|Popula o objeto `CAccessibilityData` fornecido com dados de acessibilidade do botão da barra de ferramentas.|
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Renomeia o formato de área de transferência global.|
|[CMFCToolBarButton:: SetImage](#setimage)|Define o índice de imagem do botão.|
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Define a lista de comandos que o usuário não pode personalizar.|
|[CMFCToolBarButton:: SetRadio](#setradio)|Chamado pelo Framework quando um botão altera seu estado de verificação.|
|[CMFCToolBarButton:: SetRect](#setrect)|Define o retângulo delimitador do botão.|
|[CMFCToolBarButton:: SetStyle](#setstyle)|Define o estilo do botão.|
|[CMFCToolBarButton:: setVisible](#setvisible)|Especifica se o botão está visível.|
|[CMFCToolBarButton:: mostrar](#show)|Mostra ou oculta o botão.|

### <a name="data-members"></a>Membros de dados

|{1&gt;Nome&lt;1}|Descrição|
|----------|-----------------|
|[CMFCToolBarButton:: m_bImage](#m_bimage)|Especifica se uma imagem é exibida no botão.|
|[CMFCToolBarButton:: m_bText](#m_btext)|Especifica se um rótulo de texto é exibido no botão.|
|[CMFCToolBarButton:: m_bTextBelow](#m_btextbelow)|Especifica se o rótulo de texto é exibido embaixo da imagem no botão.|
|[CMFCToolBarButton:: m_bUserButton](#m_buserbutton)|Especifica se o botão tem uma imagem definida pelo usuário.|
|[CMFCToolBarButton:: m_bWholeText](#m_bwholetext)|Especifica se o botão exibe seu rótulo de texto completo mesmo que ele não caiba no retângulo delimitador.|
|[CMFCToolBarButton:: m_bWrap](#m_bwrap)|Especifica se o botão ao lado de um separador será colocado na próxima linha.|
|[CMFCToolBarButton:: m_bWrapText](#m_bwraptext)|Especifica se os rótulos de texto de várias linhas estão habilitados.|
|[CMFCToolBarButton:: m_nID](#m_nid)|A ID de comando do botão.|
|[CMFCToolBarButton:: m_nStyle](#m_nstyle)|O estilo do botão.|
|[CMFCToolBarButton:: m_strText](#m_strtext)|O rótulo de texto do botão.|

## <a name="remarks"></a>Comentários

Um objeto `CMFCToolbarButton` é um controle que reside em uma barra de ferramentas. Seu comportamento é semelhante ao de um botão comum. Você pode atribuir uma imagem e um rótulo de texto a esse objeto. Um botão de barra de ferramentas também pode ter uma ID de comando. Quando o usuário clica no botão da barra de ferramentas, a estrutura executa o comando que essa ID especifica.

Normalmente, os botões da barra de ferramentas podem ser personalizados: o usuário pode arrastar botões de uma barra de ferramentas para outra e copiar, colar, excluir e editar rótulos de texto e imagens. Para impedir que o usuário personalize a barra de ferramentas, você pode bloquear a barra de ferramentas de uma das duas maneiras. Defina o sinalizador `bLocked` como verdadeiro ao chamar [CMFCToolBar:: LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar)ou adicione a ID de comando de um botão individual à lista global de comandos protegidos usando o método [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands) .

`CMFCToolBarButton` objetos exibem imagens de coleções globais de imagens da barra de ferramentas no aplicativo. Essas coleções são mantidas pela barra de ferramentas pai, [Classe CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md). Para obter mais informações, consulte [Classe CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md).

Quando o usuário clica em um botão da barra de ferramentas, sua barra de ferramentas pai processa a mensagem do mouse e comunica as ações apropriadas ao botão. Se o botão tiver uma ID de comando válida, a barra de ferramentas pai enviará a mensagem de WM_COMMAND para o quadro pai.

A classe `CMFCToolBarButton` é a classe base para outras classes de botão da barra de ferramentas, como classe [CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md), [classe CMFCToolBarEditBoxButton](../../mfc/reference/cmfctoolbareditboxbutton-class.md)e [Classe CMFCToolBarComboBoxButton](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md).

## <a name="example"></a>{1&gt;Exemplo&lt;1}

O exemplo a seguir demonstra como configurar um objeto `CMFCToolBarButton` usando vários métodos na classe `CMFCToolBarButton`. O exemplo ilustra como habilitar a entrada do mouse e do teclado, definir o índice da imagem do botão, definir o retângulo delimitador do botão e tornar o botão visível. Este trecho de código faz parte do [exemplo de controle guia](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>Hierarquia de herança

[CObject](../../mfc/reference/cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="requirements"></a>{1&gt;{2&gt;Requisitos&lt;2}&lt;1}

**Cabeçalho:** afxtoolbarbutton. h

##  <a name="canbedropped"></a>CMFCToolBarButton::CanBeDropped

Especifica se um usuário pode posicionar um botão em uma barra de ferramentas ou em um menu durante a personalização.

```
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```

### <a name="parameters"></a>Parâmetros

*pToolbar*<br/>
no Não utilizado.

### <a name="return-value"></a>Valor retornado

Esse método retorna TRUE.

### <a name="remarks"></a>Comentários

Por padrão, um botão da barra de ferramentas pode ser descartado em todas as barras de ferramentas personalizáveis (ou seja, não bloqueadas).

A implementação padrão desse método retorna TRUE. Substitua esse método e retorne FALSE se desejar impedir que o usuário reposicione o botão.

##  <a name="canbestored"></a>CMFCToolBarButton::CanBeStored

Determina se o botão pode ser armazenado.

```
virtual BOOL CanBeStored() const;
```

### <a name="return-value"></a>Valor retornado

Esse método retorna TRUE.

### <a name="remarks"></a>Comentários

A estrutura usa esse método para determinar se o botão pode participar de uma operação de arrastar e soltar.

A implementação padrão retorna TRUE. Substitua esse método se o botão não puder ser armazenado como parte de uma operação de arrastar e soltar. Para obter mais informações sobre operações de arrastar e soltar, consulte [arrastar e soltar OLE](../../mfc/drag-and-drop-ole.md).

##  <a name="canbestretched"></a>CMFCToolBarButton::CanBeStretched

Especifica se um usuário pode alongar o botão durante a personalização.

```
virtual BOOL CanBeStretched() const;
```

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

Esse método é usado pela estrutura para determinar se o botão pode ser ampliado no modo de personalização.

A implementação padrão desse método retorna FALSE. Substitua esse método para retornar TRUE para um controle de largura variável, como uma caixa de combinação ou controle deslizante.

Para obter mais informações sobre o modo de personalização, consulte [CMFCToolBar:: Setcustommode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).

##  <a name="cmfctoolbarbutton"></a>CMFCToolBarButton::CMFCToolBarButton

Constrói e inicializa um objeto `CMFCToolBarButton`.

```
CMFCToolBarButton(
    UINT uiID,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Parâmetros

*uiID*<br/>
no A ID de comando do botão.

*iImage*<br/>
no O índice de imagem do botão na coleção de imagens.

*lpszText*<br/>
no O rótulo de texto do botão. Pode ser NULO.

*bUserButton*<br/>
no Um valor booliano que determina se o botão é definido pelo usuário. Se esse parâmetro for TRUE, o botão será definido pelo usuário. Caso contrário, a imagem do botão será carregada a partir de um recurso.

*Obstruído*<br/>
no Um valor booliano que determina se o botão pode ser personalizado. Se esse parâmetro for TRUE, o botão não poderá ser personalizado. Caso contrário, o botão pode ser personalizado.

##  <a name="comparewith"></a>CMFCToolBarButton::CompareWith

Compara essa instância com o objeto de `CMFCToolBarButton` fornecido.

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parâmetros

*other*<br/>
no Referência ao objeto a ser comparado com esta instância.

### <a name="return-value"></a>Valor retornado

Diferente de zero se o objeto fornecido for igual ao valor dessa instância; caso contrário, 0.

### <a name="remarks"></a>Comentários

A implementação padrão determina se a ID de comando do objeto fornecido é igual à ID de comando dessa instância. Substitua esse método se você precisar executar processamento adicional para determinar se dois objetos `CMFCToolBarButton` são iguais.

##  <a name="copyfrom"></a>CMFCToolBarButton::CopyFrom

Copia as propriedades de outro botão da barra de ferramentas para o botão atual.

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parâmetros

*src*<br/>
no Uma referência ao botão de origem a partir do qual copiar.

### <a name="remarks"></a>Comentários

Chame esse método para copiar outro botão da barra de ferramentas para este botão da barra de ferramentas.

##  <a name="createfromoledata"></a>CMFCToolBarButton::CreateFromOleData

Cria um objeto `CMFCToolBarButton` do objeto `COleDataObject` fornecido.

```
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```

### <a name="parameters"></a>Parâmetros

*pDataObject*<br/>
no O objeto de dados OLE de origem.

### <a name="return-value"></a>Valor retornado

O objeto `CMFCToolBarButton` criado.

### <a name="remarks"></a>Comentários

Esse método é usado pela estrutura para executar a transferência de dados em vários formatos. Por exemplo, o método `CMFCOutlookBarPane::OnDragOver` usa esse método para executar operações de arrastar e soltar.

##  <a name="enablewindow"></a>CMFCToolBarButton::EnableWindow

Habilita ou desabilita a entrada do mouse e do teclado.

```
virtual void EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Parâmetros

*bEnable*<br/>
no Defina esse parâmetro como TRUE para habilitar a entrada ou FALSE para desabilitar a entrada.

### <a name="remarks"></a>Comentários

Esse método chama a função `EnableWindow` para habilitar ou desabilitar a entrada. Para obter mais informações, consulte [EnableWindow](/windows/win32/api/winuser/nf-winuser-enablewindow) no SDK do Windows.

##  <a name="exporttomenubutton"></a>CMFCToolBarButton::ExportToMenuButton

Copia o texto do botão da barra de ferramentas para um menu.

```
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;
```

### <a name="parameters"></a>Parâmetros

*menuButton*<br/>
no Uma referência ao botão de menu de destino.

### <a name="return-value"></a>Valor retornado

Esse método retorna TRUE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para copiar o texto de um botão da barra de ferramentas para um botão de menu. A implementação padrão copia o rótulo de texto do botão. Se o rótulo de texto estiver vazio, esse método copiará o texto da dica de ferramenta do botão.

A implementação padrão desse método retorna TRUE. Substitua esse método se desejar executar ações adicionais quando a estrutura converter um objeto derivado de [CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) para um botão de menu.

##  <a name="getclipboardformat"></a>CMFCToolBarButton::GetClipboardFormat

Recupera o formato de área de transferência global para o aplicativo.

```
static CLIPFORMAT __stdcall GetClipboardFormat();
```

### <a name="return-value"></a>Valor retornado

O valor global de CLIPFORMAT para o aplicativo.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para recuperar o formato da área de transferência para operações de transferência de dados OLE. Por exemplo, o método [CMFCToolBarButton:: CreateFromOleData](#createfromoledata) usa esse método para copiar dados de um objeto de dados OLE de origem.

Esse método define o valor global CLIPFORMAT na primeira vez em que esse método é chamado. Todas as chamadas subsequentes para esse método retornam esse valor.

Para permitir que as operações de arrastar e soltar ocorram entre os aplicativos, chame o método [CMFCToolBarButton:: SetClipboardFormatName](#setclipboardformatname) .

Para obter mais informações sobre áreas de transferência no MFC, consulte [área de transferência](../../mfc/clipboard.md).

##  <a name="gethwnd"></a>CMFCToolBarButton:: GetHwnd

Recupera o identificador de janela que está associado ao botão da barra de ferramentas.

```
virtual HWND GetHwnd();
```

### <a name="return-value"></a>Valor retornado

O identificador de janela que está associado ao botão da barra de ferramentas ou nulo se o botão da barra de ferramentas não tiver nenhum identificador de janela associado.

### <a name="remarks"></a>Comentários

A implementação padrão desse método retorna NULL. Substitua esse método para retornar o identificador de janela do seu controle específico.

##  <a name="getimage"></a>CMFCToolBarButton:: GetImage

Recupera o índice de imagem do botão.

```
int GetImage() const;
```

### <a name="return-value"></a>Valor retornado

O índice da imagem associada a este botão.

### <a name="remarks"></a>Comentários

Se o botão tiver uma imagem definida pelo usuário (ou seja, se *bUserButton* for true no Construtor), o índice retornado especificará uma imagem na coleção de imagens definidas pelo usuário (consulte [CMFCToolBar:: GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). Caso contrário, o índice especifica uma imagem na coleção de imagens que são carregadas de um arquivo de recurso (consulte [CMFCToolBar:: GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Para obter mais informações sobre arquivos de recursos, consulte [trabalhando com arquivos de recursos](../../windows/working-with-resource-files.md).

##  <a name="getinvalidaterect"></a>CMFCToolBarButton::GetInvalidateRect

Recupera a região da área do cliente do botão que deve ser redesenhado.

```
virtual const CRect GetInvalidateRect() const;
```

### <a name="return-value"></a>Valor retornado

Um objeto `CRect` que especifica a região que deve ser redesenhada.

### <a name="remarks"></a>Comentários

A implementação padrão desse método retorna toda a área do cliente. Substitua esse método se desejar que uma área diferente seja redesenhada.

##  <a name="getparentwnd"></a>CMFCToolBarButton::GetParentWnd

Recupera a janela pai do botão.

```
CWnd* GetParentWnd() const;
```

### <a name="return-value"></a>Valor retornado

A janela pai do botão.

##  <a name="getprotectedcommands"></a>CMFCToolBarButton::GetProtectedCommands

Recupera a lista de comandos que o usuário não pode personalizar.

```
static const CList<UINT,UINT>& GetProtectedCommands();
```

### <a name="return-value"></a>Valor retornado

A lista de comandos protegidos.

### <a name="remarks"></a>Comentários

No modo de personalização, a estrutura desabilita os comandos de botão da barra de ferramentas que são protegidos. O usuário não pode executar operações de arrastar e soltar e editar em botões da barra de ferramentas desabilitados.

Use o método [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands) para definir a lista de comandos protegidos.

##  <a name="gettextsize"></a>CMFCToolBarButton:: gettextize

Recupera o tamanho do texto do botão.

```
SIZE GetTextSize() const;
```

### <a name="return-value"></a>Valor retornado

Um objeto de tamanho que contém o tamanho, em pixels, do texto do botão.

##  <a name="hasfocus"></a>CMFCToolBarButton::HasFocus

Determina se o botão tem o foco de entrada atual.

```
virtual BOOL HasFocus() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se o botão tiver o foco de entrada; caso contrário, 0.

### <a name="remarks"></a>Comentários

A implementação padrão desse método retornará zero se o botão tiver o foco de entrada ou for uma janela filho ou descendente da janela que tem o foco de entrada. Você pode substituir essa função para personalizar esse comportamento.

##  <a name="havehotborder"></a>CMFCToolBarButton::HaveHotBorder

Determina se uma borda do botão é exibida quando um usuário seleciona o botão.

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Valor retornado

Esse método retorna TRUE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar se o botão da barra de ferramentas deve exibir sua borda quando um usuário o seleciona.

A implementação padrão retorna TRUE. Você pode substituir esse método para personalizar esse comportamento.

##  <a name="isdrawimage"></a>CMFCToolBarButton:: isdrawimage

Determina se uma imagem é exibida no botão.

```
BOOL IsDrawImage() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se uma imagem for exibida no botão; caso contrário, 0.

### <a name="remarks"></a>Comentários

Esse método retornará FALSE se o botão da barra de ferramentas não tiver imagem associada ( [CMFCToolBarButton:: GetImage](#getimage) retornará-1) ou se [CMFCToolBarButton:: m_bImage](#m_bimage) for definido como false.

##  <a name="isdrawtext"></a>CMFCToolBarButton:: isdrawtext

Determina se um rótulo de texto é exibido no botão.

```
BOOL IsDrawText() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se um rótulo de texto for exibido; caso contrário, 0.

### <a name="remarks"></a>Comentários

Esse método retornará FALSE se o botão da barra de ferramentas não tiver nenhum rótulo de texto associado ( [CMFCToolBarButton:: m_strText](#m_strtext) estiver vazio) ou [CMFCToolBarButton:: m_bText](#m_btext) for definido como false.

##  <a name="isdroppeddown"></a>CMFCToolBarButton::IsDroppedDown

Determina se o botão exibe um submenu.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A implementação padrão desse método retorna FALSE. Substitua esse método para retornar TRUE se o seu controle exibir um submenu.

##  <a name="iseditable"></a>CMFCToolBarButton:: iseditável

Determina se o botão pode ser personalizado.

```
virtual BOOL IsEditable() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se um botão puder ser personalizado pelo usuário; caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar se o usuário pode personalizar o botão da barra de ferramentas usando operações de arrastar e soltar ou editar.

A implementação padrão retornará FALSE se a ID de comando do botão for um comando padrão (você pode determinar isso chamando a função `IsStandardCommand`) ou se a ID de comando estiver na lista de comandos protegidos. Para obter mais informações sobre comandos protegidos, consulte [CMFCToolBarButton:: GetProtectedCommands](#getprotectedcommands) e [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands).

Substitua esse método para personalizar seu comportamento.

##  <a name="isextrasize"></a>CMFCToolBarButton::IsExtraSize

Determina se o botão pode ser exibido com uma borda estendida.

```
virtual BOOL IsExtraSize() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se o botão da barra de ferramentas puder ser exibido com uma borda estendida; caso contrário, 0.

### <a name="remarks"></a>Comentários

Várias capas usam tamanho extra para as bordas dos botões da barra de ferramentas (por exemplo, botões redondos).

Se o usuário mover esse botão de uma barra de ferramentas para outra, a estrutura chamará o método [CMFCToolBarButton:: OnChangeParentWnd](#onchangeparentwnd) . O método [CMFCToolBarButton:: OnChangeParentWnd](#onchangeparentwnd) define o sinalizador de tamanho extra para o da nova barra de ferramentas pai (para obter mais informações, consulte [CMFCToolBar:: IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).

##  <a name="isfirstingroup"></a>CMFCToolBarButton::IsFirstInGroup

Determina se o botão está na primeira posição em seu grupo de botões.

```
virtual BOOL IsFirstInGroup() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o botão for o primeiro botão em seu grupo de botões; caso contrário, FALSE.

### <a name="remarks"></a>Comentários

Esse método define um *grupo* de botões como um conjunto aproximado de Buttons posicionado na mesma linha e é limitado por separadores ou pela borda da barra de ferramentas. Esse método retornará FALSE se o botão da barra de ferramentas se referir ao botão **Personalizar** . Para obter mais informações sobre o botão **Personalizar** , consulte [CMFCToolBar:: GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Chame o método [CMFCToolBarButton:: IsLastInGroup](#islastingroup) para determinar se o botão está na última posição em seu grupo de botões.

##  <a name="ishidden"></a>CMFCToolBarButton:: IsHidden

Determina se o botão está oculto.

```
BOOL IsHidden() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se o botão estiver oculto (invisível); caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando a barra de ferramentas pai é ampliada para determinar se o botão da barra de ferramentas está visível.

Se você definir o botão como invisível usando o método [CMFCToolBarButton:: setVisible](#setvisible) , use [CMFCToolBarButton:: IsVisible](#isvisible) para determinar se o botão da barra de ferramentas está visível.

Por padrão, todos os botões da barra de ferramentas ficam visíveis. Use o método [CMFCToolBarButton:: show](#show) para ocultar ou Mostrar botões da barra de ferramentas.

##  <a name="ishorizontal"></a>CMFCToolBarButton:: IsHorizontal

Determina se o botão está localizado em uma barra de ferramentas horizontal.

```
BOOL IsHorizontal() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se um botão da barra de ferramentas estiver localizado em uma barra de ferramentas horizontal; caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar o layout dos botões da barra de ferramentas.

Esse método retorna o membro de dados `m_bHorz`. O valor padrão do membro de dados de `m_bHorz` é TRUE; Ele é redefinido em cada chamada para o método [CMFCToolBarButton:: OnDraw](#ondraw) .

##  <a name="islastingroup"></a>CMFCToolBarButton::IsLastInGroup

Especifica se o botão está na última posição em seu grupo de botões.

```
virtual BOOL IsLastInGroup() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o botão for o último botão em seu grupo de botões; caso contrário, FALSE.

### <a name="remarks"></a>Comentários

Esse método define um *grupo de botão* como um conjunto aproximado de botões posicionados na mesma linha e são limitados por separadores ou pela borda da barra de ferramentas. esse método retornará false se o botão da barra de ferramentas não tiver nenhuma barra de ferramentas pai ou o botão da barra de ferramentas se referir ao botão **Personalizar** . Para obter mais informações sobre o botão **Personalizar** , consulte [CMFCToolBar:: GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Chame o método [CMFCToolBarButton:: IsFirstInGroup](#isfirstingroup) para determinar se o botão está na primeira posição em seu grupo de botões.

##  <a name="islocked"></a>CMFCToolBarButton:: IsLocked

Determina se o botão está em uma barra de ferramentas bloqueada (não personalizável).

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se o botão estiver em uma barra de ferramentas bloqueada; caso contrário, 0.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar se o usuário pode personalizar o botão da barra de ferramentas usando operações de arrastar e soltar ou editar. Defina o atributo bloqueado na barra de ferramentas pai usando o método [CMFCToolBar:: LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) . A estrutura passa o valor desse atributo para o construtor de cada botão da barra de ferramentas ( [CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)) inserido na barra de ferramentas pai.

##  <a name="isownerof"></a>CMFCToolBarButton::IsOwnerOf

Determina se o botão é o proprietário do identificador de janela fornecido.

```
virtual BOOL IsOwnerOf(HWND hwnd);
```

### <a name="parameters"></a>Parâmetros

*HWND*<br/>
no Um identificador de janela.

### <a name="return-value"></a>Valor retornado

Diferente de zero se o botão for o proprietário do identificador de janela fornecido; caso contrário, 0.

### <a name="remarks"></a>Comentários

Esse método retornará diferente de zero se o *HWND* se referir ao identificador de janela direta ou for um filho do identificador de janela que está associado ao botão. Esse método retornará 0 se *HWND* for nulo.

##  <a name="isvisible"></a>CMFCToolBarButton:: IsVisible

Determina se o botão da barra de ferramentas está visível.

```
BOOL IsVisible() const;
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se o botão da barra de ferramentas estiver visível; caso contrário, 0.

### <a name="remarks"></a>Comentários

Você pode mostrar ou ocultar o botão da barra de ferramentas usando o método [CMFCToolBarButton:: setVisible](#setvisible) . Chame o método [CPane:: AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) na barra de ferramentas pai depois de chamar [CMFCToolBarButton:: setVisible](#setvisible) para recalcular o layout de uma barra de ferramentas pai.

##  <a name="iswindowvisible"></a>CMFCToolBarButton::IsWindowVisible

Determina se o identificador de janela subjacente do botão está visível.

```
virtual BOOL IsWindowVisible();
```

### <a name="return-value"></a>Valor retornado

Diferente de zero se o identificador de janela subjacente do botão estiver visível; caso contrário, 0.

### <a name="remarks"></a>Comentários

Esse método retornará zero se o atributo Styles do identificador de janela subjacente contiver o estilo WS_VISIBLE. Esse método retornará FALSE se o identificador de janela subjacente do botão for nulo.

##  <a name="m_bimage"></a>CMFCToolBarButton:: m_bImage

Especifica se uma imagem é exibida no botão.

```
BOOL m_bImage;
```

### <a name="remarks"></a>Comentários

Se esse membro de dados for definido como TRUE, a estrutura exibirá a imagem associada ao botão da barra de ferramentas; caso contrário, a estrutura não exibirá a imagem. Esse membro afeta o valor de retorno do método [CMFCToolBarButton:: m_bImage](#m_bimage) .

##  <a name="m_btext"></a>CMFCToolBarButton:: m_bText

Especifica se um rótulo de texto é exibido no botão.

```
BOOL m_bText;
```

### <a name="remarks"></a>Comentários

Se esse membro de dados for definido como TRUE, a estrutura exibirá o rótulo de texto do botão da barra de ferramentas; caso contrário, a estrutura não exibirá o rótulo de texto. Esse membro afeta o valor de retorno do método [CMFCToolBarButton:: m_bText](#m_btext) .

##  <a name="m_btextbelow"></a>CMFCToolBarButton:: m_bTextBelow

Especifica se o rótulo de texto é exibido embaixo da imagem no botão.

```
BOOL m_bTextBelow;
```

### <a name="remarks"></a>Comentários

Se essa variável de membro for definida como TRUE, a estrutura exibirá o texto do botão abaixo da imagem. O valor padrão desse membro é FALSE.

##  <a name="m_buserbutton"></a>CMFCToolBarButton:: m_bUserButton

Especifica se o botão tem uma imagem definida pelo usuário

```
BOOL m_bUserButton;
```

### <a name="remarks"></a>Comentários

Esse membro de dados é definido como TRUE quando o botão tem uma imagem definida pelo usuário associada a ele.

##  <a name="m_bwholetext"></a>CMFCToolBarButton:: m_bWholeText

Especifica se o botão exibe seu rótulo de texto completo mesmo que ele não caiba no retângulo delimitador.

```
BOOL m_bWholeText;
```

### <a name="remarks"></a>Comentários

Se esse membro de dados for definido como TRUE, a estrutura exibirá o rótulo de texto completo aumentando o botão. Caso contrário, a estrutura trunca e anexa uma elipse ( **...** ) ao rótulo de texto.

##  <a name="m_bwrap"></a>CMFCToolBarButton:: m_bWrap

Especifica se o botão ao lado de um separador será colocado na próxima linha.

```
BOOL m_bWrap;
```

### <a name="remarks"></a>Comentários

A estrutura define esse membro de dados como TRUE quando o botão da barra de ferramentas não se ajusta à linha atual ou quando você especifica um layout (por exemplo, um número específico de botões da barra de ferramentas por linha).

A estrutura colocará esse botão na próxima linha se esse membro de dados for definido como TRUE e a barra de ferramentas estiver encaixada horizontalmente ou flutuante.

O valor padrão desse membro de dados é FALSE.

##  <a name="m_bwraptext"></a>CMFCToolBarButton:: m_bWrapText

Especifica se os rótulos de texto de várias linhas estão habilitados.

```
AFX_IMPORT_DATA static BOOL m_bWrapText;
```

### <a name="remarks"></a>Comentários

Se essa variável de membro estático for TRUE, a estrutura permitirá que todas as barras de ferramentas exibam rótulos de texto de várias linhas em botões da barra de ferramentas.

O valor padrão desse membro de dados é FALSE.

##  <a name="m_nid"></a>CMFCToolBarButton:: m_nID

A ID de comando do botão.

```
UINT m_nID;
```

### <a name="remarks"></a>Comentários

Uma ID de comando de-1 indica que o botão é um separador. Todos os separadores de botão têm o estilo de TBBS_SEPARATOR. Consulte [CMFCToolBarButton:: m_nStyle](#m_nstyle) para obter mais informações sobre estilos de botão.

##  <a name="m_nstyle"></a>CMFCToolBarButton:: m_nStyle

O estilo do botão.

```
UINT m_nStyle;
```

### <a name="remarks"></a>Comentários

Consulte [estilos de controle da barra de ferramentas](../../mfc/reference/toolbar-control-styles.md) para obter a lista de estilos de botão da barra de ferramentas disponíveis

##  <a name="m_strtext"></a>CMFCToolBarButton:: m_strText

O rótulo de texto do botão.

```
CString m_strText;
```

### <a name="remarks"></a>Comentários

Este membro de dados contém o rótulo de texto do botão. O rótulo de texto pode estar vazio.

##  <a name="notifycommand"></a>CMFCToolBarButton::NotifyCommand

Especifica se o botão processa a mensagem de [WM_COMMAND](/windows/win32/menurc/wm-command) .

```
virtual BOOL NotifyCommand(int iNotifyCode);
```

### <a name="parameters"></a>Parâmetros

*iNotifyCode*<br/>
no A mensagem de notificação associada ao comando.

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando está prestes a enviar uma mensagem de [WM_COMMAND](/windows/win32/menurc/wm-command) para a janela pai.

Por padrão, esse método retorna FALSE. Substitua esse método para retornar TRUE se você quiser processar a mensagem de WM_COMMAND ou FALSE para indicar que a barra de ferramentas pai deve tratar a mensagem.

##  <a name="onaddtocustomizepage"></a>CMFCToolBarButton::OnAddToCustomizePage

Chamado pelo Framework quando o botão é adicionado a uma caixa de diálogo **Personalizar** .

```
virtual void OnAddToCustomizePage();
```

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada. Substitua esse método se desejar executar alguma ação quando o botão for adicionado a uma caixa de diálogo **Personalizar** .

##  <a name="onbeforedrag"></a>CMFCToolBarButton::OnBeforeDrag

Especifica se o botão pode ser arrastado.

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Valor retornado

TRUE se o botão puder ser arrastado; caso contrário, FALSE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método antes que o usuário comece a arrastar o botão.

A implementação padrão desse método retorna TRUE. Substitua esse método para retornar FALSE para desabilitar o arrasto do botão.

##  <a name="onbeforedrop"></a>CMFCToolBarButton::OnBeforeDrop

Especifica se um usuário pode soltar o botão na barra de ferramentas de destino.

```
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```

### <a name="parameters"></a>Parâmetros

*pTarget*<br/>
no O destino da operação de arrastar e soltar.

### <a name="return-value"></a>Valor retornado

TRUE se o botão puder ser solto na barra de ferramentas de destino fornecida; caso contrário, FALSE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método antes que o botão seja descartado em uma barra de ferramentas.

A implementação padrão desse método retorna TRUE. Substitua esse método para retornar FALSE para desabilitar a operação DROP no destino especificado.

##  <a name="oncalculatesize"></a>CMFCToolBarButton::OnCalculateSize

Chamado pelo Framework para calcular o tamanho do botão para o contexto do dispositivo especificado e o estado de encaixe.

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
no O contexto do dispositivo que exibe o botão.

*sizeDefault*<br/>
no O tamanho padrão do botão.

*bHorz*<br/>
no O estado de encaixe da barra de ferramentas pai. Esse parâmetro será TRUE se a barra de ferramentas for encaixada horizontalmente ou for flutuante, ou FALSE se a barra de ferramentas for encaixada verticalmente.

### <a name="return-value"></a>Valor retornado

Uma estrutura de `SIZE` que contém as dimensões do botão, em pixels.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para determinar o tamanho do botão da barra de ferramentas para o contexto do dispositivo especificado e o estado do encaixe.

A implementação padrão considera os tamanhos de texto e imagem (se forem exibidos), as posições de texto e imagem (o texto abaixo ou no lado direito da imagem) e o estado de encaixe da barra de ferramentas.

Substitua esse método se desejar fornecer o tamanho de um botão não padrão (por exemplo, um botão de caixa de edição).

##  <a name="oncancelmode"></a>CMFCToolBarButton:: OnCancelMode

Chamado pelo Framework para manipular a mensagem de [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) .

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada. Substitua esse método se você quiser manipular a mensagem de [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) .

##  <a name="onchangeparentwnd"></a>CMFCToolBarButton::OnChangeParentWnd

Chamado pelo Framework quando o botão é inserido em uma nova barra de ferramentas.

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parâmetros

*pWndParent*<br/>
no A nova janela pai.

### <a name="remarks"></a>Comentários

O botão é inserido em uma barra de ferramentas, por exemplo, quando o usuário o arrasta de uma barra de ferramentas para outra barra de ferramentas.

A implementação padrão desse método não faz nada.

##  <a name="onclick"></a>CMFCToolBarButton:: OnClick

Chamado pelo Framework quando o usuário clica no botão do mouse.

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay=TRUE);
```

### <a name="parameters"></a>Parâmetros

*pWnd*<br/>
no A janela pai do botão da barra de ferramentas.

*bDelay*<br/>
no TRUE se a mensagem deve ser manipulada com um atraso.

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando o usuário clica no botão da barra de ferramentas.

A implementação padrão não faz nada e retorna FALSE. Substitua esse método para retornar um valor diferente de zero se o botão processar a mensagem de clique.

##  <a name="onclickup"></a>CMFCToolBarButton::OnClickUp

Chamado pelo Framework quando o usuário libera o botão do mouse.

```
virtual BOOL OnClickUp();
```

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando o usuário libera o botão da barra de ferramentas.

A implementação padrão não faz nada e retorna FALSE. Substitua esse método para retornar um valor diferente de zero se o botão processar a mensagem de clique.

##  <a name="oncontexthelp"></a>CMFCToolBarButton::OnContextHelp

Chamado pelo Framework quando a barra de ferramentas pai manipula uma mensagem de WM_HELPHITTEST.

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parâmetros

*pWnd*<br/>
no A janela pai do botão da barra de ferramentas.

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada e retorna FALSE. Substitua esse método para retornar um valor diferente de zero se o botão processar a mensagem de ajuda.

Para obter mais informações sobre a mensagem de WM_HELPHITTEST, consulte [TN028: suporte à ajuda contextual](../../mfc/tn028-context-sensitive-help-support.md).

##  <a name="onctlcolor"></a>CMFCToolBarButton::OnCtlColor

Chamado pelo Framework quando a barra de ferramentas pai manipula uma mensagem de WM_CTLCOLOR.

```
virtual HBRUSH OnCtlColor(
    CDC* pDC,
    UINT nCtlColor);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
no O contexto do dispositivo que exibe o botão.

*nCtlColor*<br/>
no A notificação de cor específica.

### <a name="return-value"></a>Valor retornado

Um identificador para o objeto de pincel que a estrutura usa para pintar o plano de fundo do botão.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando a barra de ferramentas pai processa a mensagem de WM_CTLCOLOR para um botão da barra de ferramentas que contém um controle do Windows. A estrutura não chamará esse método se o botão da barra de ferramentas não tiver janela.

A estrutura chama esse método quando a estrutura da barra de ferramentas está no modo de personalização e o botão da barra de ferramentas é desbloqueado. Para obter mais informações sobre o modo de personalização, consulte [CMFCToolBar:: Setcustommode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Para obter mais informações sobre botões de barra de ferramentas de bloqueio, consulte [CMFCToolBarButton:: IsLocked](#islocked).

A implementação padrão não faz nada e retorna NULL.

##  <a name="oncustomizemenu"></a>CMFCToolBarButton::OnCustomizeMenu

Permite que o botão modifique o menu fornecido quando o aplicativo exibe um menu de atalho na barra de ferramentas pai.

```
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Parâmetros

*pMenu*<br/>
no O menu a ser personalizado.

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A implementação padrão não faz nada e retorna FALSE. Substitua esse método e retorne um valor diferente de zero se desejar modificar o conteúdo do menu fornecido.

##  <a name="ondblclk"></a>CMFCToolBarButton::OnDblClk

Chamado pelo Framework quando a barra de ferramentas pai manipula uma mensagem de [WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk) .

```
virtual void OnDblClk(CWnd* pWnd);
```

### <a name="parameters"></a>Parâmetros

*pWnd*<br/>
[in]-a janela pai do botão.

### <a name="remarks"></a>Comentários

Esse método é chamado pelo método `CMFCToolBar::OnLButtonDblClk` quando a barra de ferramentas pai manipula uma mensagem de [WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk) .

A implementação padrão desse método não faz nada.

##  <a name="ondraw"></a>CMFCToolBarButton:: OnDraw

Chamado pelo Framework para desenhar o botão usando os estilos e as opções especificadas.

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz=TRUE,
    BOOL bCustomizeMode=FALSE,
    BOOL bHighlight=FALSE,
    BOOL bDrawBorder=TRUE,
    BOOL bGrayDisabledButtons=TRUE);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
no O contexto do dispositivo que exibe o botão.

*Rect*<br/>
no O retângulo delimitador do botão.

*pImages*<br/>
no A coleção de imagens da barra de ferramentas que está associada ao botão.

*bHorz*<br/>
no O estado de encaixe da barra de ferramentas pai. Esse parâmetro é TRUE quando o botão é encaixado horizontalmente e falso quando o botão é encaixado verticalmente.

*bCustomizeMode*<br/>
no Especifica se a barra de ferramentas está no modo de personalização. Esse parâmetro é TRUE quando a barra de ferramentas está no modo de personalização e FALSE quando a barra de ferramentas não está no modo de personalização.

*bHighlight*<br/>
no Especifica se o botão está realçado. Esse parâmetro é TRUE quando o botão é realçado e FALSE quando o botão não é realçado.

*bDrawBorder*<br/>
no Especifica se o botão deve exibir sua borda. Esse parâmetro é TRUE quando o botão deve exibir sua borda e FALSE quando o botão não deve exibir sua borda.

*bGrayDisabledButtons*<br/>
no Especifica se os botões desabilitados devem ser sombreados ou usar a coleção de imagens desabilitadas. Esse parâmetro é TRUE quando os botões desabilitados devem ser sombreados e FALSE quando esse método deve usar a coleção de imagens desabilitadas.

### <a name="remarks"></a>Comentários

Substitua esse método para personalizar o desenho de botão da barra de ferramentas.

##  <a name="ondrawoncustomizelist"></a>CMFCToolBarButton::OnDrawOnCustomizeList

Chamado pelo Framework para desenhar o botão no painel **comandos** da caixa de diálogo **Personalizar** .

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
no O contexto do dispositivo que exibe o botão.

*Rect*<br/>
no O retângulo delimitador do botão.

*bSelected*<br/>
no Especifica se o botão está selecionado. Se esse parâmetro for TRUE, o botão será selecionado. Se esse parâmetro for FALSE, o botão não será selecionado.

### <a name="return-value"></a>Valor retornado

A largura, em pixels, do botão no contexto do dispositivo especificado.

### <a name="remarks"></a>Comentários

Esse método é chamado pela caixa de diálogo de personalização (guia **comandos** ) quando o botão está prestes a ser exibido na caixa de listagem proprietário-desenho.

A implementação padrão desse método exibe a imagem e o rótulo de texto do botão, se estiverem disponíveis. Se o rótulo de texto do botão não estiver disponível, o método exibirá o texto da dica de ferramenta.

Substitua esse método para executar o desenho personalizado.

##  <a name="ongetcustomtooltiptext"></a>CMFCToolBarButton::OnGetCustomToolTipText

Chamado pelo Framework para recuperar o texto de dica de ferramenta personalizado para o botão.

```
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```

### <a name="parameters"></a>Parâmetros

*strToolTip*<br/>
fora Um objeto `CString` que recebe o texto da dica de ferramenta personalizado.

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando ele exibe a dica de ferramenta para o botão da barra de ferramentas. Se esse método retornar FALSE, a estrutura usará uma dica de ferramenta padrão.

A implementação padrão não faz nada e retorna FALSE. Substitua esse método e retorne um valor diferente de zero para fornecer texto de dica de ferramenta personalizado para o botão da barra de ferramentas.

##  <a name="onglobalfontschanged"></a>CMFCToolBarButton::OnGlobalFontsChanged

Chamado pelo Framework quando a fonte global é alterada.

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada. Substitua esse método para atualizar a fonte usada para exibir o texto do botão.

##  <a name="onmove"></a>CMFCToolBarButton:: OnMove

Chamado pelo Framework quando a barra de ferramentas pai é movida.

```
virtual void OnMove();
```

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada. Substitua esse método para reposicionar o botão quando a barra de ferramentas pai for movida.

##  <a name="onshow"></a>CMFCToolBarButton:: OnShow

Chamado pelo Framework quando o botão fica visível ou invisível.

```
virtual void OnShow(BOOL bShow);
```

### <a name="parameters"></a>Parâmetros

*bShow*<br/>
no Especifica se o botão está visível. Se esse parâmetro for TRUE, o botão ficará visível. Caso contrário, o botão não estará visível.

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada. Substitua esse método para atualizar a visibilidade do botão.

##  <a name="onsize"></a>CMFCToolBarButton:: OnSize

Chamado pelo Framework quando a barra de ferramentas pai altera seu tamanho ou posição e essa alteração faz com que o botão mude de tamanho.

```
virtual void OnSize(int iSize);
```

### <a name="parameters"></a>Parâmetros

*iSize*<br/>
no A nova largura do botão.

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada. Substitua esse método para redimensionar o botão quando o tamanho ou a posição da barra de ferramentas pai for alterada.

##  <a name="ontoolhittest"></a>CMFCToolBarButton::OnToolHitTest

Chamado pelo Framework quando a barra de ferramentas pai deve determinar se um ponto está no retângulo delimitador do botão.

```
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>Parâmetros

*pWnd*<br/>
no A janela pai do botão. Pode ser NULO.

*pTI*<br/>
no Uma estrutura de `TOOLINFO` que contém informações sobre uma ferramenta em um controle ToolTip.

### <a name="return-value"></a>Valor retornado

O resultado de `OnMenuButtonToolHitTest` se o botão puder recuperar um ponteiro para a janela do quadro pai; caso contrário, FALSE.

### <a name="remarks"></a>Comentários

Esse método chama um dos seguintes métodos se ele puder converter a janela pai em um objeto frame válido:

- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)

- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)

- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)

##  <a name="onupdatetooltip"></a>CMFCToolBarButton::OnUpdateToolTip

Chamado pelo Framework quando a barra de ferramentas pai atualiza seu texto de dica de ferramenta.

```
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,
    int iButtonIndex,
    CToolTipCtrl& wndToolTip,
    CString& str);
```

### <a name="parameters"></a>Parâmetros

*pWndParent*<br/>
no A janela pai.

*iButtonIndex*<br/>
no O índice de base zero do botão na coleção de botões pai.

*wndToolTip*<br/>
no O controle que exibe o texto da dica de ferramenta.

*str*<br/>
fora Um objeto `CString` que recebe o texto da dica de ferramenta atualizado.

### <a name="return-value"></a>Valor retornado

Esse método retorna FALSE.

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada e retorna FALSE. Substitua esse método para retornar um valor diferente de zero se você fornecer uma cadeia de texto de dica de ferramenta.

##  <a name="preparedrag"></a>CMFCToolBarButton::P repareDrag

Chamado pelo Framework quando o botão está prestes a executar uma operação de arrastar e soltar.

```
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```

### <a name="parameters"></a>Parâmetros

*srcItem*<br/>
no Um objeto `COleDataSource` que armazena informações de estado sobre a operação de arrastar e soltar.

### <a name="return-value"></a>Valor retornado

TRUE se a operação for realizada com sucesso; caso contrário, FALSE.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para preparar o botão da barra de ferramentas para armazenar seu estado no objeto de `COleDataSource` fornecido. Esse método armazena seu estado serializando a si mesmo para um arquivo compartilhado e, em seguida, passando esse arquivo para o método [COleDataSource:: CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata) . Para obter mais informações sobre serialização de botão da barra de ferramentas, consulte [CMFCToolBarButton:: Serialize](#serialize).

Esse método não fará nada e retornará TRUE se o botão não puder ser armazenado (o método [CMFCToolBarButton:: CanBeStored](#canbestored) retornará false). Retornará FALSE se ocorrer uma exceção durante a serialização do objeto.

Para obter mais informações sobre operações de arrastar e soltar OLE, consulte [arrastar e soltar OLE](../../mfc/drag-and-drop-ole.md).

##  <a name="rect"></a>CMFCToolBarButton:: RECT

Recupera o retângulo delimitador do botão.

```
const CRect& Rect() const;
```

### <a name="return-value"></a>Valor retornado

Um objeto `CRect` que contém o retângulo delimitador de um botão.

##  <a name="resetimagetodefault"></a>CMFCToolBarButton::ResetImageToDefault

Define como o valor padrão a imagem que está associada ao botão.

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Comentários

Esse método recupera a imagem padrão de sua barra de ferramentas pai usando o método [CMFCToolBar:: GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) . Se o botão não tiver nenhuma imagem padrão associada, esse método definirá o rótulo de texto do botão de acordo com seu recurso de cadeia de caracteres usando o método [CStringT:: LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) . Para obter mais informações sobre recursos de cadeia de caracteres, consulte [trabalhando com arquivos de recursos](../../windows/working-with-resource-files.md).

Esse método não fará nada se o botão tiver uma imagem definida pelo usuário.

##  <a name="savebarstate"></a>CMFCToolBarButton::SaveBarState

Salva o estado do botão da barra de ferramentas.

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Comentários

A estrutura chama esse método quando ele cria um objeto `CMFCToolBarButton` como o resultado de uma operação de arrastar e soltar.

A implementação padrão desse método não faz nada. Substitua esse método para salvar o estado do botão da barra de ferramentas em uma fonte de dados externa.

##  <a name="serialize"></a>CMFCToolBarButton:: Serialize

Lê este objeto de um arquivo ou grava-o em um arquivo morto.

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parâmetros

*multi-hop*<br/>
no O objeto `CArchive` do qual ou para o qual serializar.

### <a name="remarks"></a>Comentários

Esse método dá suporte a processos de transferência de dados como operações de área de transferência ou arrastar e soltar. Ele lê ou grava as propriedades do botão, como a ID, o rótulo de texto e a ID da imagem de ou para o objeto `CArchive` fornecido.

Para obter exemplos de serialização, consulte [serialização: Serializando um objeto](../../mfc/serialization-serializing-an-object.md).

##  <a name="setaccdata"></a>CMFCToolBarButton::SetACCData

Popula o objeto `CAccessibilityData` fornecido com dados de acessibilidade do botão da barra de ferramentas.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parâmetros

*pParent*<br/>
no A janela pai do botão da barra de ferramentas.

*data*<br/>
no Um objeto `CAccessibilityData` que é populado com os dados de acessibilidade do botão da barra de ferramentas.

### <a name="return-value"></a>Valor retornado

Esse método retorna TRUE.

### <a name="remarks"></a>Comentários

Substitua esse método para retornar FALSE se o botão da barra de ferramentas não fornecer dados de acessibilidade.

##  <a name="setclipboardformatname"></a>CMFCToolBarButton::SetClipboardFormatName

Renomeia o formato de área de transferência global.

```
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```

### <a name="parameters"></a>Parâmetros

*lpszName*<br/>
no O novo nome do formato de área de transferência global. Não pode ser NULL.

### <a name="remarks"></a>Comentários

Esse método possibilita que as operações de arrastar e soltar ocorram entre vários aplicativos. Cada aplicativo deve fornecer o mesmo nome de formato da área de transferência.

Você deve chamar esse método antes que o Framework chame [CMFCToolBarButton:: GetClipboardFormat](#getclipboardformat).

##  <a name="setimage"></a>CMFCToolBarButton:: SetImage

Define o índice de imagem do botão.

```
virtual void SetImage(int iImage);
```

### <a name="parameters"></a>Parâmetros

*iImage*<br/>
no O índice da imagem na coleção de imagens da barra de ferramentas.

### <a name="remarks"></a>Comentários

Se o botão da barra de ferramentas for um separador, *iImage* se referirá à nova largura do botão separador.

Se *iImage* for menor que zero, esse método desabilitará o desenho da imagem e habilitará o desenho do rótulo de texto do botão.

##  <a name="setprotectedcommands"></a>CMFCToolBarButton::SetProtectedCommands

Define a lista de comandos que o usuário não pode personalizar.

```
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```

### <a name="parameters"></a>Parâmetros

*lstCmds*<br/>
no A lista de comandos protegidos.

### <a name="remarks"></a>Comentários

No modo de personalização, a estrutura desabilita os comandos de botão da barra de ferramentas que são protegidos. O usuário não pode executar operações de arrastar e soltar e editar em botões da barra de ferramentas desabilitados.

Use o método [CMFCToolBarButton:: GetProtectedCommands](#getprotectedcommands) para recuperar a lista de comandos protegidos.

##  <a name="setradio"></a>CMFCToolBarButton:: SetRadio

Chamado pelo Framework quando um botão altera seu estado de verificação.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Comentários

A implementação padrão desse método não faz nada. Substitua esse método para executar uma ação personalizada quando o botão alterar seu estado de verificação.

##  <a name="setrect"></a>CMFCToolBarButton:: SetRect

Define o retângulo delimitador do botão.

```
void SetRect(const CRect rect);
```

### <a name="parameters"></a>Parâmetros

*Rect*<br/>
no O novo retângulo delimitador do botão.

### <a name="remarks"></a>Comentários

Esse método chama o método [CMFCToolBarButton:: OnMove](#onmove) depois que ele define o novo retângulo delimitador.

##  <a name="setstyle"></a>CMFCToolBarButton:: SetStyle

Define o estilo do botão.

```
virtual void SetStyle(UINT nStyle);
```

### <a name="parameters"></a>Parâmetros

*nStyle*<br/>
no O novo estilo do botão.

### <a name="remarks"></a>Comentários

A implementação padrão define o membro de dados [CMFCToolBarButton:: m_nStyle](#m_nstyle) como *nStyle*. Substitua esse método se você quiser executar processamento adicional para manipular a alteração no estilo. Consulte [estilos de controle da barra de ferramentas](toolbar-control-styles.md) para obter uma lista de sinalizadores de estilo válidos.

##  <a name="setvisible"></a>CMFCToolBarButton:: setVisible

Especifica se o botão está visível.

```
void SetVisible(BOOL bShow=TRUE);
```

### <a name="parameters"></a>Parâmetros

*bShow*<br/>
no Um valor booliano que especifica se o botão deve ser mostrado ou ocultado. Se esse parâmetro for TRUE, o botão será mostrado. Se o parâmetro for FALSE, o botão ficará oculto.

### <a name="remarks"></a>Comentários

Use essa função para ocultar ou mostrar um determinado botão da barra de ferramentas. Chame o método [CPane:: AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) depois de chamar esse método.

##  <a name="show"></a>CMFCToolBarButton:: mostrar

Mostra ou oculta o botão.

```
void Show(BOOL bShow);
```

### <a name="parameters"></a>Parâmetros

*bShow*<br/>
no Um valor booliano que especifica se o botão deve ser mostrado ou ocultado. Se esse parâmetro for TRUE, o botão será mostrado. Se o parâmetro for FALSE, o botão ficará oculto.

### <a name="remarks"></a>Comentários

A estrutura chama esse método para atualizar a visibilidade dos botões da barra de ferramentas quando sua barra de ferramentas pai é redimensionada. A estrutura chama esse método com *bShow* definido como false quando o botão não se ajusta mais dentro dos limites da barra de ferramentas. A estrutura chama esse método com *bShow* definido como true quando o redimensionamento do botão é ajustado novamente dentro dos limites da barra de ferramentas.

Use o método [CMFCToolBarButton:: setVisible](#setvisible) para definir a visibilidade geral do botão.

Esse método chama o método [CMFCToolBarButton:: OnShow](#onshow) depois de atualizar o estado de visibilidade do botão.

## <a name="see-also"></a>Consulte também

[Gráfico da hierarquia](../../mfc/hierarchy-chart.md)<br/>
[Classes](../../mfc/reference/mfc-classes.md)<br/>
[Classe CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)<br/>
[Classe CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md)
